<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Dan Kelley and Clark Richards" />

<meta name="date" content="2018-04-26" />

<title>Oce</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">Oce</h1>
<h4 class="author"><em>Dan Kelley and Clark Richards</em></h4>
<h4 class="date"><em>2018-04-26</em></h4>


<div id="TOC">
<ul>
<li><a href="#introduction"><span class="toc-section-number">1</span> Introduction</a></li>
<li><a href="#architecture-of-oce-objects"><span class="toc-section-number">2</span> Architecture of oce objects</a></li>
<li><a href="#accessing-data-in-oce-objects"><span class="toc-section-number">3</span> Accessing data in oce objects</a></li>
<li><a href="#modifying-data-in-oce-objects"><span class="toc-section-number">4</span> Modifying data in oce objects</a></li>
<li><a href="#oce-functions"><span class="toc-section-number">5</span> Oce functions</a></li>
<li><a href="#calculation-of-seawater-properties"><span class="toc-section-number">6</span> Calculation of seawater properties</a></li>
<li><a href="#ctd-data"><span class="toc-section-number">7</span> CTD data</a><ul>
<li><a href="#example-with-pre-trimmed-data"><span class="toc-section-number">7.1</span> Example with pre-trimmed data</a></li>
<li><a href="#example-with-raw-data"><span class="toc-section-number">7.2</span> Example with raw data</a></li>
<li><a href="#example-with-woce-archive-data"><span class="toc-section-number">7.3</span> Example with WOCE archive data</a></li>
</ul></li>
<li><a href="#section-plots"><span class="toc-section-number">8</span> Section plots</a></li>
<li><a href="#maps"><span class="toc-section-number">9</span> Maps</a><ul>
<li><a href="#about-projections"><span class="toc-section-number">9.1</span> About projections</a></li>
<li><a href="#popular-world-view-projections"><span class="toc-section-number">9.2</span> Popular world-view projections</a></li>
<li><a href="#popular-mid-latitude-projections"><span class="toc-section-number">9.3</span> Popular mid-latitude projections</a></li>
<li><a href="#popular-high-latitude-projections"><span class="toc-section-number">9.4</span> Popular high-latitude projections</a></li>
</ul></li>
<li><a href="#sea-level-data"><span class="toc-section-number">10</span> Sea-level data</a><ul>
<li><a href="#time-domain-analysis"><span class="toc-section-number">10.1</span> Time-domain analysis</a></li>
<li><a href="#tidal-harmonic-analysis"><span class="toc-section-number">10.2</span> Tidal-harmonic analysis</a></li>
</ul></li>
<li><a href="#acoustic-doppler-profiler-data"><span class="toc-section-number">11</span> Acoustic Doppler Profiler data</a></li>
<li><a href="#handling-data-quality-flags"><span class="toc-section-number">12</span> Handling data-quality flags</a><ul>
<li><a href="#about-flags"><span class="toc-section-number">12.1</span> About flags</a></li>
<li><a href="#retrieving-and-changing-flags"><span class="toc-section-number">12.2</span> Retrieving and changing flags</a></li>
<li><a href="#using-flags-to-manipulate-data"><span class="toc-section-number">12.3</span> Using flags to manipulate data</a></li>
</ul></li>
<li><a href="#working-in-non-english-languages"><span class="toc-section-number">13</span> Working in non-English languages</a></li>
<li><a href="#extending-oce"><span class="toc-section-number">14</span> Extending oce</a><ul>
<li><a href="#initializing-oce-objects"><span class="toc-section-number">14.1</span> Initializing oce objects</a></li>
<li><a href="#creating-new-oce-object-classes"><span class="toc-section-number">14.2</span> Creating new oce object classes</a></li>
</ul></li>
<li><a href="#the-future-of-oce"><span class="toc-section-number">15</span> The future of oce</a></li>
<li><a href="#development-website"><span class="toc-section-number">16</span> Development website</a></li>
<li><a href="#answers-to-exercises"><span class="toc-section-number">17</span> Answers to exercises</a></li>
</ul>
</div>

<!-- HOW TO BUILD THE VIGNETTE. -->
<!-- 1. edit this file in vignettes/oce.Rmd -->
<!-- 2. run devtools::build_vignettes() -->
<!-- 3. build oce -->
<p><strong>Abstract.</strong> The <code>oce</code> package makes it easy to read, summarize and plot data from a variety of Oceanographic instruments, isolating the researcher from the quirky data formats that are common in this field. It also provides functions for working with basic seawater properties such as the equation of state, and with derived quantities such as the buoyancy frequency. Although simple enough to be used in a teaching context, <code>oce</code> is powerful enough for a research setting. These things are illustrated here in a practical context. Worked exercises are provided to help readers take early steps towards using the <code>oce</code> package in their research.</p>
<div id="introduction" class="section level1">
<h1><span class="header-section-number">1</span> Introduction</h1>
<p>Oceanographers must deal with measurements made by a wide variety of instruments, a task that is complicated by a tendency of instrument manufacturers to invent new data formats. Although manufacturers often provide software for scanning data files and producing overview plots, this software is of limited use to researchers who work with several instrument types at the same time, and who need to move beyond engineering plots to scientific plots and statistical analysis.</p>
</div>
<div id="architecture-of-oce-objects" class="section level1">
<h1><span class="header-section-number">2</span> Architecture of oce objects</h1>
<div class="figure">
<img src="data:image/png;base64,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" alt="Figure 1. Basic layout of a CTD object. All oce objects contain slots named data, metadata, and processingLog, with the contents depending on the type of data." />
<p class="caption"><strong>Figure 1.</strong> Basic layout of a CTD object. All <code>oce</code> objects contain slots named <code>data</code>, <code>metadata</code>, and <code>processingLog</code>, with the contents depending on the type of data.</p>
</div>
<p>The need to scan diverse data files was one motivation for the creation of <code>oce</code>, but an equal goal was to make it easy to work with the data once they are in the system. This was accomplished partly by the provision of specialized and generic (overloaded) functions to work with the data, and partly by providing accessor methods that make it convenient to reach inside the data objects (see next section).</p>
<p>As illustrated in Figure 1, each <code>oce</code> object contains three slots:</p>
<ul>
<li><code>data</code>, a list containing the actual data, e.g., for a CTD object, this will contain <code>pressure</code>, <code>temperature</code>, etc.</li>
<li><code>metadata</code>, a list containing information about the data, such as units, quality flags, sampling locations, etc.</li>
<li><code>processingLog</code>, a list that documents how the object was created and possibly changed thereafter.</li>
</ul>
</div>
<div id="accessing-data-in-oce-objects" class="section level1">
<h1><span class="header-section-number">3</span> Accessing data in oce objects</h1>
<p>For detailed analysis, users may want to access data <em>within</em> oce objects. While it is possible to descend through the object using the “slot” and “list” notation (e.g. <code>d@data$salinity</code> yields the salinity within an oce object named <code>d</code>), this approach is not recommended. It is better to use the <code>[[</code> notation, which derives from the generic “Extract” method for accessing parts of an object. A general introduction is provided by</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">?<span class="st">`</span><span class="dt">[[,oce-method</span><span class="st">`</span></code></pre></div>
<p>and detaile are provided for individual object classes with e.g.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">?<span class="st">`</span><span class="dt">[[,ctd-method</span><span class="st">`</span></code></pre></div>
<p>for the <code>ctd</code> class. The notation is very simple. For example, suppose that <code>d</code> is an object that stores <code>salinity</code> in either its <code>data</code> slot or <code>metadata</code> slot. Then,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">S &lt;-<span class="st"> </span>d[[<span class="st">'salinity'</span>]]</code></pre></div>
<p>will extract the salinity.</p>
<p>The <code>[[</code> method first looks in the <code>metadata</code> slot, but if the item is not found there, it proceeds to look in the <code>data</code> slot. This two-step scheme is helpful because it frees the user from having to know where data are stored, e.g. in a <code>ctd</code> object it might be stored in the <code>metadata</code> (for a conventional CTD cast) or in the <code>data</code> slot (for the slantwise sampling of a glider).</p>
<p>In addition to accessing data within an object, the <code>[[</code> notation also permits the extraction of <em>derived</em> information. There are two reasons for this.</p>
<ol style="list-style-type: decimal">
<li>It can give valuable performance enhancements in some cases, e.g. the data in the <code>landsat</code> class are stored in two byte-level arrays, which yields a marked improvement over the 8-byte arrays that R generally uses on a 64-bit machine. The <code>[[</code> assembles these byte-scale chunks into a conventional R numerical matrix, which can be quite convenient for users who wish to operate on the data without learning how to assemble the bytes.</li>
<li>It provides a uniformity of notation that can be helpful to users. In <code>oce</code>, objects derived from data files tend to hold just the information in those files, not derived information. For example, For example, CTD datasets often provide in-situ temperature but not potential temperature (since the latter is not measured). The in-situ temperature is found with e.g. <code>d[[&quot;temperature&quot;]]</code>, and so it seems natural to write <code>d[[&quot;theta&quot;]]</code> to get the potential temperature. If this is done, then the <code>ctd</code> version of <code>[[`` first looks in the data slot, and returns</code>theta<code>if it is found there, as may sometimes be the case (depending on the choice of the person who created the dataset). However, if it is not found, then</code>[[<code>calls</code>swTheta()` to calculate the value, and returns the result.</li>
</ol>
<p>Finally, it is also possible to extract the entirety of either the <code>metadata</code> or <code>data</code> slot, e.g.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data &lt;-<span class="st"> </span>d[[<span class="st">'data'</span>]]</code></pre></div>
<p>yields the full data slot, which is a list with elements that can be accessed in the conventional way, e.g. for a <code>ctd</code> object,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data<span class="op">$</span>temperature</code></pre></div>
<p>retrieves the temperature. For obvious reasons, the method of derived-quantity access (e.g. the <code>theta</code> of the example above) will not work.</p>
</div>
<div id="modifying-data-in-oce-objects" class="section level1">
<h1><span class="header-section-number">4</span> Modifying data in oce objects</h1>
<p>There are several schemes for modifying the data within <code>oce</code> objects. By analogy with the <code>[[</code> notation of the previous section, e.g. the following</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(ctd)
ctd[[<span class="st">&quot;temperatureAboveFreezing&quot;</span>]] &lt;-<span class="st"> </span>ctd[[<span class="st">&quot;temperature&quot;</span>]] <span class="op">-</span><span class="st"> </span><span class="kw">swTFreeze</span>(ctd)</code></pre></div>
<p>will store the excess over freezing temperature into the <code>ctd</code> object.</p>
<p>Further information on this notation is provided by</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">?<span class="st">&quot;[[&lt;-,oce-method&quot;</span></code></pre></div>
<p>The above works only within the <code>data</code> slot. To store within the <code>metadata</code> slot, consider using e.g.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ctd[[<span class="st">&quot;metadata&quot;</span>]]<span class="op">$</span>scientist &lt;-<span class="st"> &quot;Dalhousie Oceanography 4120/5120 Class of 2003&quot;</span></code></pre></div>
<p>sets the “scientist”.</p>
<p>For archival work, it is important to store reasons for changing things in an object. Two functions are provided for this purpose: <code>oceSetData</code> and <code>oceSetMetadata</code>. For example, a better way to change the scientist might be to write</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ctd &lt;-<span class="st"> </span><span class="kw">oceSetMetadata</span>(ctd, <span class="dt">name=</span><span class="st">&quot;scientist&quot;</span>,
                      <span class="dt">value=</span><span class="st">&quot;Dalhousie Oceanography 4120/5120 Class of 2003&quot;</span>,
                      <span class="dt">note=</span><span class="st">&quot;give credit where it's due&quot;</span>)</code></pre></div>
<p>and a better way to store <code>temperatureAboveFreezing</code> would be</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ctd &lt;-<span class="st"> </span><span class="kw">oceSetData</span>(ctd, <span class="dt">name=</span><span class="st">&quot;temperatureAboveFreezing&quot;</span>,
                      <span class="dt">value=</span>ctd[[<span class="st">&quot;temperature&quot;</span>]] <span class="op">-</span><span class="st"> </span><span class="kw">swTFreeze</span>(ctd), 
                      <span class="dt">unit=</span><span class="kw">list</span>(<span class="dt">unit=</span><span class="kw">expression</span>(degree<span class="op">*</span>C), <span class="dt">scale=</span><span class="st">&quot;ITS-90&quot;</span>),
                      <span class="dt">originalName=</span><span class="st">&quot;-&quot;</span>,
                      <span class="dt">note=</span><span class="st">&quot;add temperatureAboveFreezing, for ice-related calculations&quot;</span>)</code></pre></div>
<p>which illustrates that this notation, as opposed to the <code>[[&lt;-</code> notation, permits the specification of a unit and an <code>originalName</code>, both of which, together with the <code>note</code>, are displayed by <code>summary(ctd)</code>.</p>
</div>
<div id="oce-functions" class="section level1">
<h1><span class="header-section-number">5</span> Oce functions</h1>
<p>The uniformity of the various <code>oce</code> objects helps users build skill in examining and modifying objects. Fine-scale control is provided throughout <code>oce</code>, but the best way to learn is to start with simplest tools and their defaults. For example, the following will read a CTD file named <code>&quot;station1.cnv&quot;</code>, summarize the contents, and plot an overview of the data, with profiles, a TS diagram, and a map (Figure 2).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(oce)
d &lt;-<span class="st"> </span><span class="kw">read.oce</span>(<span class="st">&quot;station1.cnv&quot;</span>)
<span class="kw">summary</span>(d)
<span class="kw">plot</span>(d)</code></pre></div>
<p>The reader should stop now and try this on a file of their own. The pattern will work with a fairly wide variety of file types, because <code>read.oce()</code> examines the file name and contents to try to discover what it is. For an example, if <code>read.oce()</code> is given the name of a file created by an Acoustic Doppler Profiler, it will return an object inheriting from class <code>&quot;adp&quot;</code>, so the <code>summary()</code> and <code>plot()</code> calls will be tailored to that type, e.g. the graph will show images of time-distance variation in each of the measured velocity components.</p>
<p><strong>Notes on oce function names.</strong></p>
<ol style="list-style-type: decimal">
<li><p>As just illustrated, the general function to read a dataset ends in <code>.oce</code>, and the name is a signal that the returned object is of class <code>oce</code>. Depending on the file contents, <code>d</code> will also have an additional class, e.g. if the file contains CTD data, then the object would inherit from two classes, <code>oce</code> and <code>ctd</code>, with the second being used to tailor the graphics by passing control to the <code>ctd</code> variant of the generic <code>plot</code> function (use <code>help(&quot;plot,ctd-method&quot;)</code> to learn more).</p></li>
<li><p>Generally, <code>oce</code> functions employ a “camel case” naming convention, in which a function that is described by several words is named by stringing the words together, capitalizing the second and subsequent words. For example, <code>ctdAddColumn()</code> takes a <code>ctd</code> object, and returns a new <code>ctd</code> object that matches the original except for the added column (and an added entry in the <code>processingLog</code> to indicate the addition).</p></li>
<li><p>Function names begin with <code>oce</code> in cases where a more natural name would be in conflict with a function in the base R system or a package commonly used by Oceanographers. For example, <code>oceContour()</code> is a function that provides an alternative to <code>contour()</code> in the <code>graphics</code> package.</p></li>
</ol>
</div>
<div id="calculation-of-seawater-properties" class="section level1">
<h1><span class="header-section-number">6</span> Calculation of seawater properties</h1>
<p>The <code>oce</code> package provides many functions for dealing with seawater properties. Perhaps the most used is <code>swRho(S,T,p)</code>, which computes seawater density <span class="math inline">\(\rho=\rho(S, T, p)\)</span>, where <span class="math inline">\(S\)</span> is salinity, <span class="math inline">\(T\)</span> is <em>in-situ</em> temperature in <span class="math inline">\(^\circ\)</span>C (on the ITS-90 scale), and <span class="math inline">\(p\)</span> is seawater pressure, i.e. the excess over atmospheric pressure, in dbar. (This and similar functions starts with the letters <code>sw</code> to designate that they relate to seawater properties.) The result is a number in the order of <span class="math inline">\(1000\)</span>kg/m<span class="math inline">\(^3\)</span>. For many purposes, Oceanographers prefer to use the density anomaly <span class="math inline">\(\sigma=\rho-1000\)</span>kg/m<span class="math inline">\(^3\)</span>, provided with <code>swSigma(salinity,temperature,pressure)</code>, or its adiabatic cousin <span class="math inline">\(\sigma_\theta\)</span>, provided with <code>swSigmaTheta()</code>.</p>
<p>Most of the functions can use either the UNESCO or GSW (TEOS-10) formulation of seawater properties, with the choice set by an argument called <code>eos</code>. It should be noted that <code>oce</code> uses the <code>gsw</code> package for GSW calculations. <strong>Caution:</strong> the results obtained with <code>eos=&quot;gsw&quot;</code> in <code>oce</code> functions may differ from the results obtained when using the <code>gsw</code> functions directly, due to unit conventions. For example, <code>swCSTp(..., eos=&quot;gsw&quot;)</code> reports conductivity ratio for consistency with the UNESCO formulation, however the underlying <code>gsw</code> function <code>gsw::gsw_C_from_SP()</code> reports conductivity in mS/cm.</p>
<p>A partial list of seawater functions is as follows:</p>
<ul>
<li><code>swAlpha()</code> for thermal expansion coefficient <span class="math inline">\(\alpha=-\rho_0^{-1}\partial\rho/\partial T\)</span></li>
<li><code>swAlphaOverBeta()</code> for <span class="math inline">\(\alpha/\beta\)</span></li>
<li><code>swBeta()</code> for haline compression coefficient <span class="math inline">\(\beta=\rho_0^{-1}\partial\rho/\partial S\)</span></li>
<li><code>swConductivity()</code> for conductivity from <span class="math inline">\(S\)</span>, <span class="math inline">\(T\)</span> and <span class="math inline">\(p\)</span></li>
<li><code>swDepth()</code> for depth from <span class="math inline">\(p\)</span> and latitude</li>
<li><code>swDynamicHeight()</code> for dynamic height</li>
<li><code>swLapseRate()</code> for adiabatic lapse rate</li>
<li><code>swN2()</code> for buoyancy frequency</li>
<li><code>swRho()</code> for density <span class="math inline">\(\rho\)</span> from <span class="math inline">\(S\)</span>, <span class="math inline">\(T\)</span> and <span class="math inline">\(p\)</span></li>
<li><code>swSCTp()</code> for salinity from conductivity, temperature and pressure</li>
<li><code>swSTrho()</code> for salinity from temperature and density</li>
<li><code>swSigma()</code> for <span class="math inline">\(\rho-1000\)</span>,kg/m<span class="math inline">\(^3\)</span></li>
<li><code>swSigmaT()</code> for <span class="math inline">\(\sigma\)</span> with <span class="math inline">\(p\)</span> set to zero and temperature unaltered</li>
<li><code>swSigmaTheta()</code> for<span class="math inline">\(\sigma\)</span> with <span class="math inline">\(p\)</span> set to zero and temperature altered adiabatically</li>
<li><code>swSoundSpeed()</code> for speed of sound</li>
<li><code>swSpecificHeat()</code> for specific heat</li>
<li><code>swSpice()</code> for a quantity used in double-diffusive research</li>
<li><code>swTFreeze()</code> for freezing temperature</li>
<li><code>swTSrho()</code> for temperature from salinity and density</li>
<li><code>swTheta()</code> for potential temperature <span class="math inline">\(\theta\)</span></li>
<li><code>swViscosity()</code> for viscosity</li>
</ul>
<p>Details and examples are provided in the documentation of these functions.</p>
<p>The following exercise may be of help to readers who prefer to learn by doing. (Answers are provided at the end of this document.)</p>
<p><strong>Exercise 1.</strong> a. What is the density of a seawater parcel at pressure 100 dbar, with salinity 34 PSU and temperature 10<span class="math inline">\(^\circ\)</span>C? b. What temperature would the parcel have if raised adiabatically to the surface? c. What density would it have if raised adiabatically to the surface? d. What density would it have if lowered about 100m, increasing the pressure to 200 dbar? e. Draw a blank <span class="math inline">\(T\)</span>-<span class="math inline">\(S\)</span> diagram with <span class="math inline">\(S\)</span> from 30 to 40 PSU and <span class="math inline">\(T\)</span> from -2 to 20<span class="math inline">\(^\circ\)</span>C.</p>
</div>
<div id="ctd-data" class="section level1">
<h1><span class="header-section-number">7</span> CTD data</h1>
<div id="example-with-pre-trimmed-data" class="section level2">
<h2><span class="header-section-number">7.1</span> Example with pre-trimmed data</h2>
<p>Many of the object types supported by <code>oce</code> come with built-in data. For an example, <code>data(ctd)</code> yields a CTD profile that has been trimmed to just the downcast portion of the sampling. (See the next section to learn how to do this trimming.) A summary and plot (Figure 2) are created as follows.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(oce)
<span class="kw">data</span>(ctd)
<span class="kw">summary</span>(ctd)
<span class="co">#&gt; CTD Summary</span>
<span class="co">#&gt; -----------</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; * Instrument:          SBE 25 </span>
<span class="co">#&gt; * Temp. serial no.:    1140</span>
<span class="co">#&gt; * Cond. serial no.:    832</span>
<span class="co">#&gt; * File:                /Users/kelley/git/oce/create_data/ctd/ctd.cnv</span>
<span class="co">#&gt; * Original file:       c:\seasoft3\basin\bed0302.hex</span>
<span class="co">#&gt; * Start time:          2003-10-15 11:38:38</span>
<span class="co">#&gt; * Sample interval:     1 s</span>
<span class="co">#&gt; * Cruise:              Halifax Harbour</span>
<span class="co">#&gt; * Vessel:              Divcom3</span>
<span class="co">#&gt; * Station:             Stn 2</span>
<span class="co">#&gt; * Location:            44.684N  63.644W </span>
<span class="co">#&gt; * Data</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;                                Min.   Mean   Max.   Dim. OriginalName</span>
<span class="co">#&gt;     scan                       130    220    310    181  scan        </span>
<span class="co">#&gt;     pressure [dbar]            1.48   22.885 44.141 181  pr          </span>
<span class="co">#&gt;     depth [m]                  1.468  22.698 43.778 181  depS        </span>
<span class="co">#&gt;     temperature [Â°C, IPTS-68] 2.919  7.5063 14.237 181  t068        </span>
<span class="co">#&gt;     salinity [PSS-78]          29.916 31.219 31.498 181  sal00       </span>
<span class="co">#&gt;     flag                       0      0      0      181  flag        </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; * Processing Log</span>
<span class="co">#&gt;     - 2017-09-09 11:00:27 UTC: `create 'ctd' object`</span>
<span class="co">#&gt;     - 2017-09-09 11:00:27 UTC: `read.ctd.sbe(file = file, processingLog = processingLog)`</span>
<span class="co">#&gt;     - 2017-09-09 11:00:27 UTC: `oce.edit(x = ctd, item = &quot;startTime&quot;, value = ctd[[&quot;systemUploadTime&quot;]],     reason = &quot;startTime in file has Y2K error&quot;, person = &quot;Dan Kelley&quot;)`</span>
<span class="kw">plot</span>(ctd)</code></pre></div>
<div class="figure">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAbAAAAGwCAMAAAD/kMAYAAACMVBMVEUAAAAAADoAAGYAAP8AOjoAOmYAOpAAOv8AZAAAZDoAZGYAZrYAZv8AgGYAgJAAm7Y6AAA6ADo6AGY6AP86OmY6OpA6Ov86ZAA6ZDo6ZGY6ZrY6Zv86gGY6gJA6kNs6kP86m7Y6tdtmAABmADpmAGZmAP9mOgBmOpBmOv9mZABmZDpmZGZmZgBmZmZmZrZmZv9mgABmgJBmkNtmkP9mmwBmm2Zmtv9mz/+QOgCQOjqQOmaQOv+QZgCQgACQgDqQgGaQkDqQkNuQkP+QmwCQtpCQz5CQ27aQ29uQ2/+Q57aQ5/+lKiqlKlSlKnmlVJ2leaileb+pqampqbmpqcepudWpx+O0Kiq0KlS0Knm0VHm0VJ20nd+2ZgC2Zjq2Zma2Zv+2mwC2mzq2tv+225C255C2/7a2//+5qam5qbm5qce5uce51fHEKirEKlTEKnnEVCrEVJ3Eeb/Ev//HqanHqcfHudXHx+PH1fHH4//TVCrTVFTTv53T09PT39/T3//VuanVucfVx6nV8f/bkDrbkGbbkJDbkP/btTrb25Db2//b55Db/7bb///heSrheVThv3nh///jx6njx7njx8fj///xnVTx1bnx48fx//Hx////AAD/ADr/AGb/OgD/Ojr/Omb/OpD/ZgD/Zjr/Zrb/kDr/kGb/kJD/kNv/tmb/tpD/tv//v3n/z2b/25D/29v/2///353/48f/55D/8dX//7b//7///9v//9///+P///H///85N2DuAAAACXBIWXMAAAsSAAALEgHS3X78AAAgAElEQVR4nO2djZ8kR1nH52712LCIl8QQgrJnLjmSiCL4srdwBBUVl6wgIyGi2XhRYFGDb0QUcAV1NUFZFDSJprlAzpxm2Mtwl8tkEuqvs176pbq7qut56qW7erd+n92dmZ56qrv6u/XUU9XV1ROSNCpNhj6AJJwSsOA6XFnZ8pdbAhZCK/KHfyGHG/6yTsBCqAaMVrFdf1knYAG00vh87cf95Z2ABVAd2MUt8rP+8k7A3HS48oaDC82Yog7s2q0rWxdWfDVjnoAtn8uYnkeYzC+pt8/KXGY8R5r1oevhhdPhmwgxAOO6GBkwogeATT97gTF6gZArLMFlSu9y/MAuvOGAnFt5w70cHed14YMrK2doRH9GpIsW2CLL6OvyO/+bZS/SGvIiWVy6kn37WvHF/LvPXSJzWnMO2WdmQn/5RvE94cBmh/Rnwawou8PogF1YWaGOULwXwC5SLPT3cEUC9ibqC9mviBCjBXb5RXKFVZEXKJYX2LYF9WqzS8UXc+reGAmGif/wF+bzxPekAjYr/WtkwCijqmPFgb2FVaNzu4VzFMC2xO854S9jBcZgLC7RGnaN/9KPC0qDvs2/KPzgogbsUmlIKpc4e6HIOTJg7NxfKHpWHNiZew/Itbcc5MBECzYWYCz0+PY1GRjzbJcP8y/yasjcXwOY+J6QEtQ81hr2xBnRbPHusHCJbFNZw8YFTNSgBjBWwy6ViVidm7eAlSFIASzaNow2S9du3Xpii3yQVEHHVtWGjQoYa4po41NziS+wLfkXOSIy55WNMbmS+0nxPamAxRslPsFiv4srK5RVAYzFFudW3jS+GsZcm6hSVQ37nyJKFMEGJZFl333ucElDQ/ru/y6VzpRXKantmuU9u9iAcV3c5eMXDFgpHhIqOmEkSmAaCc+GUAWsUJTAnti49vNEjHSIDSzYrypYQ9GNdOiFB9YYL4l1pOOczzF4uNJY4siUgI1MCdjIlICNTAnYyJSAjUwJ2MiUgI1MCdjI5A6MjacrNmaKEY55cVW5vjUfSoRNCMmvqCn36kPXbl1hw0j5C+FDvSvaQY082WGZBJKa6gIgb7XcgV1RjRxdPiSzFgA+ON/aOuNzCuj5v9IaRFRoliNX7tWHzrGh963ihRiGbUUyNuj7hBgFBqQmDNSGObVazsDm31X8ry8UFUlckmx9c/nb38svh0Fm8YjUmr36EB99v7iRv7AtrTlR7dTsbT55A5T62lvuzSsaftK9K7Dld76vOHXz5y8rXKK6honrY89Dh4k5VvVevSm/hiVezq2sdA+1i2R5DQOlvrCVu0Rj6rZcgV15UdWasGk18zYadUPFEMxwwNR79aULZ6QX7sO6agJPxiaLglM/cSZvw4ypFXIENn9e2fyrK8ycbpm1/R6+hmn26knnzsgvXB1tTZnsXHniDanZdJ0LVRJkO+YI7Aqf8Ptic/NCef411WiOaMNEKs1evejarRvSSy7tSZWSXVS8U6bmoeHKGWNqtQKF9ZdVLrGjhi2fexEWJYYO61u8DtkV5Qua0DtPxtPwGgZJzXShstOl1igQsIWyxzXLlL2zmPph4t9/I3/h8fqK/g7KPFmeBpqacGCm1BqlkY6RKQEbmRKwkSkBG5k8AMswm1GJkZt9Sz0lNORmTWJZCZheCRg2cQLWVgKmVwKGTZyAtZWA6TU+YPPTE6aT3aNdGWYzKnEoYLByjQ/YclMMVs5OHUgGMclcviNXrq7vFnfvSq95Xnt7hMTyawls1OXC1zC7kxREXmuYh+PxJVtgZHGW//PVfP1YCtalMZcLfZxjKdiQebkqALBV22PxpIz/9Q+sGaZte9wDXAkYQGpgZHsIZAkYQBpgDBmTxz1BjwX/nd5g9YgCW9H2XLcledxrx7FYfNdhsDowsoz/7aWGtRWcXJAocVBkmXgJECXq65hC21p5ORb0d90GQ1axTLyECOsxwPRy4xeoH3Yka5gvYnUh62GgGlYTNhtr8VnaWeNYPKisYaU8Zq6Rjl0fIx2r3cLupaWsEOBYrNTOa0Ulj3usqQYugqEpW4xKTo7HohYwrwAA204yAmBqmZhpOJWKYCwRzQzSkkULjIiqp/suMxlHAIyAmCEDxpiBMSn9o84NhjoWp7wq5+ilWxY7MMVQF4AWiQiYrx4z4FgiAdbakkHMIgBWYvIZP0KA5RdhWxdiUZnZq+ESYRUMciyByqWoUR5jfhCwu3db75TTwUJdmZWIAXHBgIUol87z+UIGc4lSgXL1PFkljzzAuIDH4r9cHQ2Vn2oGA7Z8b/Nu2/p0MEBmzlrFTRIFHUuAcnWFFv0Ba08l6n86GHIQC1bDApSrk5h7JRvJNDcxAoVhNtw0t+743XXMKv6wvt5PBo8XDxfWmztcLiONQGD73cFv0CnNWePz6qq/qdpDlivkVO3FXVuzNbK/Zii+/xqmGIwHDujD2jCv5UINZ9iO6IPDevFjn5mVss5vO4lBw3pP5bIcegoFjIa/9Gd+S1WwcpTgZMiwPuv81h2Yj3K5jROiiQHbMFqm2WSyLn253FzvMvCirPtrd2DO5XIe0g0FTCHq/3EGaJnGNTwAUwhRLh8D8FhiEYf1mSlBZ9gRPqz3c70EG3cAgS03qVs3BVNeTxJo2LAjVIQdi325/M3txcWKwKCDO/Z9ebgGmxlWGSyZGzD7cvmcio2qY5jR+j7D+gyaUEcMMVpvUS6/U+cxVQzoEnf4f2KPHecMmtAJmG25PN/r4BuYsm+CzQynDJzSAZhDuTzfnOK/hrlnhlKGSKshFjhKHIxYlMAQF5aJLroPHdb7JgZFFqFLhMw6rMkWmFu5fLdjwHTxBR1YXJrOWNCgQ2iQyCO6sD6zMVIwCxvWc/m+LRaELLqOc2Zl1a5jgTvOTN6BQRLFNjSVWdq1qljooakQy3RAqlhkUWJmbWkHDCYNMI97KGQmZj3zF5sZROh4Q5IFMKdyhVnYwRMw1Rz0EFO1MxfjBjFMWI8vV7B1OIzEbF1igImkLvWrHShaHgukXL7uHFLJeK3FFpj/qdqZizGTF2DmcgVfnqibWDQ1LHOwzVUjFqiG9bCaVBhg3qdqZw62uXwA6y5XLyu3BQLmxUBS5mArtOoFmEpFXv2stNcHsCimNK9aTNVGlWu7n3KseJiqrRANf09seQw6MgdbIS9BR1e5elrJ0ksNW25OTn1dnrDHGmc2EjdyYKhyjQgYLcL8tgM5chIF2lkbNzBcuXpaLNYHMHr4tGByIfLwd/+HbokGWD3qgF5eQZUrAmKYGla7DLE4y+eg7/u6GSJzsM2FB4YtVwRhIubyiumykQuwzN60kkwMcXkFUa7RAINpfMBgkkc6PGarVRcxzBQBo+xPUmZtWRMWGL5cIwHWXs8CnVmn3AbqK0lVDNaGocvVD7AOYsAaphhgQ2bWqczWsCkkMHy5Bu+LxdGGZbaGDR2RNqzLJ0YBLLO0awtZw4AaXw0L6xIzOzOVkkuUtd++XRueWYcyOzOVrGoYplyjAhZo5q+vEJGpChMRx4IpV1/AtMQwwGZBXKJPXnbAMOXq62FhWmKoNmzDsBcbYJmFjVbYfhi+XL0B030xdJTouX5Z1TCjBqlhGmSDA8ObdOmohPVEW8eAwPZPHeyHcIkZ2qJbWGDocvX3xEsnYIu7tuiPvIgWOjO1MrRFt7BtGL5cIwF29y79X6wVzMvceq8tGBMWmEW5+qpjji5xcmJrJrsOPzN/M6yBSWiXaFOuQa872wYdPubWe69fxD1KhJVrwIsstsDca5h/XEwlMktgwHINV8mso0THufVhcHmIEqHlGmqW/UBRYgZOiVP4KLHUQMSso8R6Sszc+iwLOL++XCLdNkq0L1eQefYrlnPrW9EUC3/Xd2xcYgZJZK1ydMoySgSXq7fovlHLXIKOHVqq+W3IoCMDpLGXc5QILddg/WeXsH62jg7r0etIIeU8lggsV49DinY1THmXBxOihmkfuexHjedFgGf+WpSrvwHF9sN1gPMSW3d50PCXlWwf3IYFrlpMtcd7wOYl2pQr5CICKtWJgaPExl0eBoOWMsihOcti5i+6XP3S4sIDU9zl0W3QUgY5MGdhgVmUa2BeiDbM6e6VHhwiE9Yl4u9eGYAXsXCJQGkNeuIVfObvELiIjUt0vHslgxh7kM0dmJBk4wPmdvdKBrH1IfwdmLhyDcSrRgw1zc1yXmIGPjBH4WsYrlzjAQaU2iDDZmMtNDCgjhewDJuLvRKwXGxiimkqmC6zvgJEYrGKALpcQxGTAnsIMDa+ZrzIp8ssQxyXq5DA8OUapBvGhAPGgl9QPDUwMOxqbhblGhGwTYDvGCMwZLkG74klYMhyDUMMCczhoTIZ9tAchA06rMo1BmBKmaY0Z0JWh2ctD7cbGco1VNhRXhQLNZE0sz0yF3nohxnKNVhPrKxkLnM65NemQWZ7XA7yseZvZ7kGi+qZjmANC70M+pC4nIGZpjRn1gdmr8DLoA/LyxmYwSDD2ror8DLog/pD4hlYe0pzwOnY2mna4CnNDuUa/NcNWGMkbuAaVvvkBExZrnHXMGWnszLouwPG5OdhOfpyDRxzuAcdbAa6poZl9gdmLz81rKNc444SWdFOfe3oAeso19iBsWGck0pgQzhEn1GiplxR+MQQYf0wvBrP6AswRSCKqCMIMIuj8aHQj6NKwPzKY1jfUAxRYkBgmc3ReFACZgdsoBas+az0BAwgAczqaDwoAfM083cYhZhIGoMSsJ7zclUC1nNerkrAes7LVX6BxSSHkzLWcjmVedWcZPCEGBlixKBfQwPUBExSAhZBQowSsAgSYpSARZAQowQsgoQYJWARJMToyANL6l8J2MiUgI1MCdjIlICNTHhgL62uvnGXkMV9q28Wt1dV7wwJn1wVWzQJCblxxy4kxyqhLkeoXv3c9kefld/VXyytrz+0vf15+50T8tqX9OZoYOxcPfmjZHn/efZCVb0zJCSPnu/KkfEQJ9+QY5VQlyNU7MQ8/THpXf3F0vrVP/0Kuf47X7E1p3q6g7eVS6RnbvHO3fz/vHpnSLj8wANdOZJHb/p1kY0hxyphV44Qvfpn3yTXP/nN6l39xdL6Kjvp3zBWMZ05raG/++eegdF/8xtvPyCLn2Lnq3pnSEgd3eqqpkqICpVTMuRYJezKEaLrv/csrw/lu/qLpTX7zmytN3/ty3/n0yXSs3X7TQ+Ql95cnNTqnSHhjbc+oKkTPCEpORhyrBLqc4Tp6keLc5a/q79YWhPm5B623jl5+mGvbRgTPZuwGlZLyKVpdfKszDWslrArR4hC1bBXP2fm1bVz78DoSYK1YbWE+QZdQlJ5uu4ciTdgYdowGiUCYkSt+dPbTFriaGC5v1ref2cZJd6pjOlaCdmG5S+1OUhOM48lunMkNd+pyhEq5rmKQO1hEajJL5bWMF5ac+I5rGd9H9aQiL4SO3O6XlMrYb5Bl1BwAORYJdTlCJXo+bD/c/t+WMtaVBEzNN3OfQNLGlQJ2MiUgHnQ9Yd+sx1SKje6KwHzoH/7ytV2iKLc6K4EzIuuqqIE5UZXJWA+9Opf1j6+9qVtGu81NnpSAuZBrMsL2+iuBMxeoodMO1Lf2N5mzdXVWueNbvytL0Gui+GUgNnr+kMf+SaRxrAUQYb5KgtW/oDduJ09UPROxRd37DZHBqXLI9UF41o6hVF0uv7Jf/9YE9jV7e2PSK4wamDs/KoG2RUnPh82vu88IU+Wg1AaqvGKOcPP14GxhksehYwe2PL+8zd+4t1v3GXV7TyvQjd9+L7VN35aDBDe9AARXwgWJeJyI/t5+6+KD5+hdr9wnl9riVRshP0vnq0Da1yUiR7Yjbc+cOP284LCHbtscsZLb/5XDkK8/7r4Ip8zcL+oXYtyI/u5/U42Ci8+vETfK5xsJGKonn647hKvP7QtD3BEDYy3YedLT7Z4525ZkWotUvkFnwaVj7aLjXm68t3iPQd/4DZtI6QYqte+/LfNoOOqFCtGDSyHIF4fZeGEcGeFqxOuTXxRNU/sMn+5sQls+YEPvydaj5jPmHnoIxIwBmuMwFg4UdYquYbVvniJX6R89Hy1sQmMPPmL8XrEPNx4WgbGel+jihJJdXGRVh3Wbt2449NlG8bf83auihLZtI9yYwsYr39j0dj6YbJLfHJ19UfefV5Ehsv7pShRfCH1w1gbVm6sAaN2uy4TAHrX1eZl6teO30jHjZ8c+ghiU9zAnnSasXEkFTewpJYSsJEpARuZErCRKQEbmRKwkSkBG5kSsJEpARuZErCRKQEbmRKwkSkBG5kSsJEpARuZErCRKQEbmYIAe/3x6cef4n/ohx98dfrb/4gxpAafCHFUR0NBgD3zRfLMY/wP/fD6XyMNX36M/AeU8PFTKJf48heLP698dvqgec2LmuEP/v6pQIc1fgUC9voXns3/EFphXvkblOHrjyeXqFUYYK//1VP5H66XH0MZYgyOnYIAe+WPn8r/EN4ucdcINmQGCZhOQYB9azqdPsb/UA+HCfq4DTXANHrHTKkfVmhnMlkj5PvlzTKLs5OTqnnifPtykyau/nDtb7Q+nNgqPuR/SptTB80PQI0fGK3EtPsG7urpNKNnemdjcU957ugJ3l9XJOTbZ+s0cfHnEY5lZ7JB+Jbiw+JduQX7IP4QwpPTPxxf7QNQRwLYfz7l3hOY38ZQ7U/WZpOyZs00J3K28U9b9GzzP7SevI/fivOH9LTnW8SH+WlRdfgH8Yf9O9DknFHtA/w4x//Q0tcff8wHMEJBnTqgZ5FWtfwEStWtJrr9EUaG/6EusvKCj+TA+Af6bv5zxQdSZsqS70/W2x9gCvpY4Ck2c6RRfizPTD/xg69CA9Eu7a8zYMV//OJu9a1ObLtcw+ifHVaXihpWfODfiHwlYGwjdbWFt619gMh8/ue31I4bDIwGfPDDsDPy6c/31xrAGuUuxbdXbZioSjwHqQ3jLd1G4VMlYDwR+7PW/ABUV5lpPCQkR0uywV6Hce3EdyWsGUETihylY3F3iTvMJS431wpg9LPSV/HttSgxD/IUUWL1gf+h/w48OQ80ax/gh9n5T7o4S7PqqGH609uoKDAO1Mga2LGRocyLs6e+hneJNs7QxigBU2h++mQbWBGhKdUXruLgn5k++A/TqY+gYwyyjhIZMpUDU555k6crjTAucToVYf0Xnn35E8fnigwcWNH3oadqT/xO9qr3xe9Usc30O52W7/egNnuMcQGMHKNLaI79sLpntIzk8Ta5kdj5yw8+S/z0w8Yg546z1Jr11nYVRinoqAvaDxPMuk69tmlq2oDasGmRsAg6po8ll8i13Gz3HNX9sEl3TdFwaBuZgeVutwLG2rBnHvzvBIxpcdcWyIBHAB2RvlJ23rB1LDzoeOWP/iQBAxuUZx6DzMdIY+4S2fXplz8eDJixUD0ksEraNhAOTD6JvJq1ubU8nQ5Xp0uUbXocmjpawNqRvHSpSk4oS1+7OoBN28PJCRjaQH3mRTXTZu0t/E/AsAbdp17NzD3WUB9LMB0ZYJBxjZxZ5ekMNmqXqDBKLhFtMAV2c2ujxCbEuOHkBAxsgLyUb2OUq8vGJ7DQ84UMgh8numDsD/rEs0PyPyXHK7C9IRUWmO3VK8C+6jl2VEnvLvEIA6tOIhxYfjnEyKyWY1ftSsDABm5ROcJdA2JQi0PR5nVkgWENWnEDiBkoQEnAkAawq1eK+F/LrEhopJVcoo0BAJh09aqRj3LPe5JRpxKwMAZdZ959rDEB82xgqCmaa6HwqKbKwP0e26MHrOiTg6evTS2mvO1BbfbYq7ji/PiUyfUC5tEDpjDAXW5U5tbYP7h2SW3YK5/1cRf7sQDWIbBjkwJG9FhjYfmtB/8rAXMzQJ35fPDT4WaIVz6bgEEMtLPX8NMNJ9r4X60U1tsYaC43tjcBphtCE0o5TvNZU14mkh4LYCr1drMRtRFRop+JpMcVmB0u7BzUfEclMA8TSY8FsLYDs55umCMDu0Tp7hU/E0mPJTCtZwNMN8QAm06nKehwN3CcvwY/ktImAXMwcA82gA3Z1IaxWccCmOTAbKYbtoz4QKVBcvyfgCENqumGhuqlnm7YNjICq8//ScAsDbxNvjZ5xYZRAmZn4G+yvOF4Wi7UYsc6HQtg3C9Bog1E/K+/Dl0zSi5RpflpfsmythROExioejXvD+tKqDmiaSthAtbUclOsHjeT16StGQRYmEPdjKltErC6ihUeays9ygZhFrBUINPYDAxMNo8CmKGGTZGrG+ZGgIQNZCqbKFxi/YiGB1asrKJuw6D3h/HCSEaghDIypY0TMGXb7ArMCVkPUWJP6/l22lgCU3sOd2AOyIJPc7OZwiav2mb6nUwgNpbA1G2zzXluZR0TMNnA6oI+pHrlOU6M9djFJXqrYYryRwnM5oY+YPxf5shnUnUYObVhyrbZDzBLYnhg5cptUjk0q7n5HInqNjINLQ4dJfojZgGs9OeSZ1eu5tbrGpbdBYkSmBUxXy7RsJob0CViVzfPjVq7ayW0DTrOKtaj9wfMhpgNsJ01VhTjY1vwwJw6bEGA3f3Lk1Y5LYem1AfXB7B98SQe1T+f2gAox6kDnbtzCOt3mo9j8AkMT8yiDcudn3gqE8AAKNf+dWfcUcxLRD4/TLTSjUdoeAWGJmYfdOge6dMy4Idlyn3qocOmvh+6con454cpy2g7Wq8pR3Bgys5klwE/LEPm5ZnHAFPM9FAnLID5eX6YX2BYYhZt2Pxm5hPnp01RB8IlertYpttnvt3L88M8A0MSs4kSeTfZ/GAki/meCOHWRXTshwnXWI6RDkkMvkaY16naNYFumW3aaBJqVhGWtg53u5E2RxQw+HGiCyYfkj6ZYoVeo7qeH9Y8ziguYHYDwxCzATaDPSgOOJ8afABAG+Vuq40WN6U3H2RnC8wLMQtgi3cVz0QFGnSor6k5eZSIXfZBPagdABicWE/AgFPmPdwyO2kik26ZxS/7oHxUZAhgYGI9uUTlsWqnzHQIdIVtUt91ccsssVn2QfGoSGtgPqqYp8srXQY6BbxaViNWu/hisexD61GRQYBBifm5gNlpoFHQq5vNqVRRRIndwIDEPIX189OTtX3DVO26rO9xhiSU50RKYf3wyz50ZtwjsOV7t/gDxGsj+J3ALO5xxjyhW5qbUxv8tVr2wVvQYQAGIuYHGGvN9tdbQzg+prH5sSmB4ZZ98BzWm4BBiPVUw+rqYXJOY02q3CWil33wG9YzYlmWdeyvL2CsDVuHtmGdHV9dh61lY/pnLae+OQ5NeQ3r9/ayzJGYFbB95iVMMwR83pRu0WGb5J1l97FEj2G9GZiRmNUknHXyPeECgQY12QxG4U2ojdwZiySsHwbY4lcIA0b+GTFFoFRfD9xuTFWMBtiegZeRmE0N+/1dBmz+NrBB5cBgq8zXpbbpdonSqlTxXF4RMubvH5gIdk1TOhTAoKvMy7J5aGltVarYgDkS6+kCJldfU+0VUxVHBayTWI/AbJsie5sq7IgJmBux/qYIIO8i4uqw0Ra7Obc0OpcImQURATBgXamVxqKH3a5fowSmJ9aXS+wrmq/ZROoSnepYT8B6ije0S4JFBsyhGesFmM06HXbr9CmOID6X6ESsD2A2t3356GHH2oYBkQ0GrKdwXrUKZqxtmAOx8MB67y7Lh1AgixGYHbHgwKSLUhDtVTaAhJK097LE6hItiYUGNrUAZrGwYseiexEDqzFTYgwGbH56Y7nZGBCuX6SHy1+TF29YD4SoIOZpTsfmBtnZaM/pGKS7XDuC1juU2KQidm2i/o8YGpiy3vkFRgvG5uE0Z01NsbOcyN4UmnYPYDMhe/IzMPGi5eFFql3762NFUml3QYCx6jVbJ2QmTxuQV8KBtmHw+lXlqDdxbsMoLe403Fdz80bMV9Cxw+tUbZqHxUny3eS59sMWZ0/8xvt2m66+D2DahqzPC5hm+e5iu3ecaSi1Rmbuq7k5AZOJ9Xc9zKypxRhWN+J8/vHIokQFsQpZRMCm0IRSjiZexK0NU+c6BLCSWDwuMcCQo3s/TNm/7AdY6183MmBButiubZi6fzkQMNInMKOns1hrClAlXV1ivX9ZZNoTMMWpiAeYzVpTgDrJGjGnNkzZvxwOGInGJQa4ZFZb38c66FD1L/sCpvznjQJYiHijvvcRRonDAgPMhIcklEyMCSfRTnNzIhYBsPbj2cyCrebcGEvEr0hayM9qbn6A9bOaW5eCTfmYNN7iVyRVZ9sfMAWxwduwgFN0mkHHwCuSjgqY3oE1Tr7PMax2G2a3IqnPm9KdiQ0NrFlZABygs0QmUo7Wl1c8L/swGmA6hZxDIO0/v0EdvxKO92UfnIkNC6yn9aamZdCBXwnH87IPzsQGdYmKymIcw4Isvyd2X7rEaRUlIlfC4fK67IMzMZ/Amq5Deq88vaq64m/QsQRWLSiAXwlHmXHPwOol9TRrSv38sG4FnnNfAItp+T0PxDzVsFrjbF4cjP/aLPaFS88GJabV4mC2GjToCARM2ThL7xUOzGL5DfQY1qS+XiJaw4f1LWIe27BW4yy9b59ejUP0Oug4KRe4t61hw4f1AYGhDHqZdF89hdPeJQ4e1jeIDQSsn5v8qrnHLm3Y0GH9IMCaDkx78n0OOk6qQcdxR4kysWGA6SuLx0HHyTQBwxVM+00f/pCGdvKaOPg96nNOwAByCDi6jwWvQYCVxIZwiTZr/kITVnuvDTomYEgD+fR2VhbNKDE0oWRSDf6SBMzFwCKitzKp7X78wApiAwDD5mNnchTmJQ4IrHJgNktIQRPKJuXej4hLHAqYqbIEGiU+AsDyAvftEntyiKBjsdSxAjYQrwQMa5DvzXzyW55OZ9LhEusmR8YlihKHBBaTsAcfb7ngx+lUyBEkdJdxVz0ksErqYJyAOSawSupgnIA5JrBK6mCcgDkmsErqYJyAOSawSupgnIA5JmvBapIAAANiSURBVLBK6mCcgDkmsEqaFIMSsJEpARuZErCRKQEbmfDAZuKuj8XZYr3B6p0hIXuy90nFU4dnxebi/gRDjlVCXY6uWm5OTmxJ++PPJJ9saA/MnEOxAZ6DRmhg7Fztr/E1B8VDuqt3hoR8jUJ9jqx0onCGHKuEuhydxZZ7O3VQ7o+LbtAdGCQHsQGRg0ZWLpEeB1v2R/yfV+8MCfkahfocyc6JXxPZGHKsEnbl6CJpIcXyOBZ3bXUemCGHfAM8B52sgNH/EbaaJysDkd4ZEvL76DRVQvzX5UUx5Fgl7MrRRfPb3s/9V7m//E3XgRlyyDfAc9DJAtj8NN0zrd75nqt3hoTzm7c0dYInJCUHQ45VQn2Obpqf3hDryxb7ExWs48CMOeQb4DnoZFXD6C5hNayWkEvT6uRZmWtYLWFXjrbamUzWpAMojoOdaWD9UOaQbxikhrFj2oC1YbWE+QZdQlJ5uu4cSVBg/ADuqU5rnv3OuunAunPINwzQhuWVerm5XkaJ68rAp5WQbVi+r32wktPMY4nuHEnNd6pydNZO038Jx6s7MEgOYgMiB43wNYz2SaoOBTtzuq5FK2G+QZdQcADkWCXU5egqegCs4yCy50eUuzdwL6qdw9lGr9RSaaRjZErARqYEbGRKwEamBGxkSsBGpgRsZErARqYEbGTyB2x+ml2VXVd8cctuc/hMujxycleZTmGUxOQRGDu/qpFoxYnPh43PbhCyX47UaKgm1eQZ2HJzY/5j7zi5y6rbBq9CJz50dnLyU2IwjQ2r8S8EixJxuZH93PZ+8eEz1O6nN+rPPUzyDWx+8xa7VMcp3LLLZjDM2EqS5fuviy/yOQObonYtyo3s5/R6PhuC/szW+aP0kir5bsM2Sk/GHiBfVKRai1R+wScV5aPtYmOerny3uOfgkTDTNkYrzzWsfN1h4YRwZ4WrE65NfFE1T+wyf7mxCWz53g/dkzxiTWGAsXCirFVyDat9IR4aurNRbWwCI/s/kzxiXWGA8d+bt1i7Nb/lU2Ubxt/zdq6KEtlEh3JjCxivf0mSArnE/cnkh9+xISLD5aYUJYovpH4Ya8PKjTVg1G43yASAUSvykY7524Y+gtgUN7D9IDM2Rq24gSW1lICNTAnYyJSAjUwJ2MiUgI1MCdjI9P8+Ip0V4qwoeAAAAABJRU5ErkJggg==" alt="Figure 2. An overview of a ctd dataset." />
<p class="caption"><strong>Figure 2.</strong> An overview of a ctd dataset.</p>
</div>
<p>Accessing the data within this <code>ctd</code> object can be done directly, e.g. <code>ctd@data$pressure</code> holds the pressure record, but it is usually better to use an accessor function that is provided with <code>oce</code>. This function is named <code>[[</code>, and it takes a character string as an argument, e.g. <code>ctd[[&quot;pressure&quot;]]</code> yields the pressure column. The accessor notation is preferable to direct access because it is simpler for the user. For example, several <code>oce</code> objects store the data in single-byte or two-byte chunks, to match the raw format used by the instruments, and the accessor function takes care of translating these values to what are sometimes called “science” units.</p>
<p><strong>Exercise 2.</strong> Plot a profile of <span class="math inline">\(\sigma_\theta\)</span> and <span class="math inline">\(N^2\)</span>, for the data in the pycnocline. (Hint: use <code>subset()</code>.)</p>
</div>
<div id="example-with-raw-data" class="section level2">
<h2><span class="header-section-number">7.2</span> Example with raw data</h2>
<p>Practicing Oceanographers may be wondering how the CTD cast used in the preceding section was trimmed of equilibration-phase and upcast-phase data. Spurious data from these phases must be trimmed as a first step in processing. For example, consider the following code.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(ctdRaw)
<span class="kw">plotScan</span>(ctdRaw)</code></pre></div>
<div class="figure">
<img src="data:image/png;base64,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" alt="Figure 3. Scanwise plot of the ctdRaw sample data set. Note the spike at the start, the equilibration phase before the downcast, and the spurious freshening signal near the start of the upcast." />
<p class="caption"><strong>Figure 3.</strong> Scanwise plot of the <code>ctdRaw</code> sample data set. Note the spike at the start, the equilibration phase before the downcast, and the spurious freshening signal near the start of the upcast.</p>
</div>
<p>This produces a two-panel plot (Figure 3) of the data as a time-series, revealing not just the desired downcast, but also an earlier equilibration phase and a later upcast. The x-axis in Figure 3 is the scan number, which is a convenient index for extraction of the downcast portion of the profile by an essentially manual method, e.g. proceeding with a sequence of commands such as</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plotScan</span>(<span class="kw">ctdTrim</span>(ctdRaw, <span class="st">&quot;range&quot;</span>,
                 <span class="dt">parameters=</span><span class="kw">list</span>(<span class="dt">item=</span><span class="st">&quot;scan&quot;</span>, <span class="dt">from=</span><span class="dv">140</span>, <span class="dt">to=</span><span class="dv">250</span>)))
<span class="kw">plotScan</span>(<span class="kw">ctdTrim</span>(ctdRaw, <span class="st">&quot;range&quot;</span>,
                 <span class="dt">parameters=</span><span class="kw">list</span>(<span class="dt">item=</span><span class="st">&quot;scan&quot;</span>, <span class="dt">from=</span><span class="dv">150</span>, <span class="dt">to=</span><span class="dv">250</span>)))</code></pre></div>
<p>This method of making decisions based on plotted information is probably the most robust method of trimming data. However, for quick work, users may be satisfied with the results of automatic downcast detection, e.g.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ctdTrimmed &lt;-<span class="st"> </span><span class="kw">ctdTrim</span>(ctdRaw)</code></pre></div>
<p>It should be noted that <code>ctdTrim()</code> inserts entries into the object’s log file, so that the details of how the trimming was done are recorded together with the data.</p>
<p>Once the profile has been trimmed, one may wish to use <code>ctd.decimate()</code> to smooth the data and interpolate the smoothed results to uniformly-spaced pressure values.</p>
<p>Taking these things together, a quick visual examination of a CTD file takes just one line of code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(<span class="kw">ctdDecimate</span>(<span class="kw">ctdTrim</span>(<span class="kw">read.ctd</span>(<span class="st">&quot;stn123.cnv&quot;</span>))))</code></pre></div>
</div>
<div id="example-with-woce-archive-data" class="section level2">
<h2><span class="header-section-number">7.3</span> Example with WOCE archive data</h2>
<p>The package has a harder time scanning the headers of data files in the WOCE archive format than it does in the Seabird format illustrated in the previous examples. This is mainly because front-line researchers tend to work in the Seabird format, and partly because the WOCE format is odd. For example, the first line of a WOCE file is of the form <code>CTD,20060609WHPOSIODAM</code> (or <code>BOTTLE,...</code>). Scanning the item to the left of the comma is not difficult (although there are variants to the two shown, e.g. <code>CTDO</code> sometimes occurs). The part to the right of the comma is more difficult. The first part is a date (<code>yyyymmdd</code>) so that is no problem. But then things start to get tricky. In the example provided, this text contains the division of the institute (WHPO), the institute itself (SIO), and initial of the investigator (DAM). The problem is that no dividers separate these items, and that there seem to be no standards for the item lengths. Rather than spend a great deal of time coding special cases (e.g. scanning to see if the string <code>WHOI</code> occurs in the header line), the approach taken with <code>oce</code> is to ignore such issues relating to quirky headers, on the assumption that users can scan human-written headers with high skill.</p>
<p>Quite commonly, CTD profiles taken during a cruise are collected together in a sequence of files in a given directory. For a real-world example, one might visit the website mentioned in the code provided below, download and expand the zip file, enter the directory thus formed, and run the code to get an overall TS plot for all the CTD stations of this cruise. (Caution: the link seems to change from time to time.)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(oce)
<span class="co"># http://cchdo.ucsd.edu/data/7971/ar18_58JH19941029_ct1.zip</span>
<span class="co"># setwd(&quot;~/Downloads/ar18_58JH19941029_ct1&quot;)</span>
files &lt;-<span class="st"> </span><span class="kw">system</span>(<span class="st">&quot;ls *.csv&quot;</span>, <span class="dt">intern=</span><span class="ot">TRUE</span>)
<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(files)) {
    x &lt;-<span class="st"> </span><span class="kw">read.ctd</span>(files[i])
    <span class="cf">if</span> (i <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) {
        <span class="kw">plotTS</span>(x, <span class="dt">Slim=</span><span class="kw">c</span>(<span class="dv">31</span>, <span class="fl">35.5</span>), <span class="dt">Tlim=</span><span class="kw">c</span>(<span class="op">-</span><span class="dv">2</span>, <span class="dv">10</span>), <span class="dt">type=</span><span class="st">'o'</span>)
    } <span class="cf">else</span> {
        <span class="kw">points</span>(x[[<span class="st">&quot;salinity&quot;</span>]], x[[<span class="st">&quot;potential temperature&quot;</span>]])
        <span class="kw">lines</span>(x[[<span class="st">&quot;salinity&quot;</span>]], x[[<span class="st">&quot;potential temperature&quot;</span>]])
    }
}</code></pre></div>
<p>The <code>[[</code> notation is explained in Section 3, but this example conveys the gist, that it permits accessing data, or derived data, from within an object.</p>
<p>In the above, lines connect the points within a given profile. This can be a useful method for a quick scan looking for outliers. Another is to colour-code the profiles, although this gets confusing with large datasets, in which case the method of the following exercise might be useful.</p>
<p><strong>Exercise 3. (advanced)</strong> Make a multi-file plot summarizing the TS relationship, with each file showing the overall relationship in gray and the individual profile in black.</p>
</div>
</div>
<div id="section-plots" class="section level1">
<h1><span class="header-section-number">8</span> Section plots</h1>
<p>The commands</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(section)
<span class="kw">plot</span>(section, <span class="dt">which=</span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">99</span>))</code></pre></div>
<p>will plot a summary diagram containing sections of <span class="math inline">\(T\)</span>, <span class="math inline">\(S\)</span>, and <span class="math inline">\(\sigma_\theta\)</span>, along with a chart indicating station locations. In addition to such overview diagrams, the <code>section</code> variant of the generic <code>plot</code> function can also create individual plots of individual properties (use <code>help(&quot;plot,section-method&quot;)</code> to learn more).</p>
<p>Some section datasets are supplied in a pre-gridded format, but it is also common to have different pressure levels at each station. For such cases, <code>sectionGrid()</code> may be used, e.g. the following produces Figure 4. The ship was travelling westward from the Mediterranean towards North America, taking 124 stations in total; the <code>stationId</code> value selects the last few stations of the section, during which the ship headed toward the northwest, crossing isobaths (and perhaps, the Gulf Stream) at nearly right angles.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(oce)
<span class="kw">data</span>(section)
GS &lt;-<span class="st"> </span><span class="kw">subset</span>(section, <span class="dv">102</span> <span class="op">&lt;=</span><span class="st"> </span>stationId <span class="op">&amp;</span><span class="st"> </span>stationId <span class="op">&lt;=</span><span class="st"> </span><span class="dv">124</span>)
GSg &lt;-<span class="st"> </span><span class="kw">sectionGrid</span>(GS, <span class="dt">p=</span><span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">1600</span>, <span class="dv">25</span>))
<span class="kw">plot</span>(GSg, <span class="dt">which=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">99</span>), <span class="dt">map.xlim=</span><span class="kw">c</span>(<span class="op">-</span><span class="dv">85</span>,<span class="op">-</span>(<span class="dv">64</span><span class="op">+</span><span class="dv">13</span><span class="op">/</span><span class="dv">60</span>)))</code></pre></div>
<div class="figure">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAEgCAMAAAAjXV6yAAAAq1BMVEUAAAAAADoAAGYAOjoAOmYAOpAAZpAAZrY6AAA6ADo6AGY6OgA6Ojo6OmY6OpA6ZrY6kJA6kNtmAABmADpmAGZmOgBmOjpmOpBmZgBmkNtmtrZmtv+QOgCQOjqQOmaQZgCQkDqQkGaQtpCQ29uQ2/+2ZgC2Zjq2Zma225C2/7a2/9u2///T09PbkDrb2//b/7bb/9vb////tmb/trb/25D/29v//7b//9v///9lTAj8AAAACXBIWXMAAAsSAAALEgHS3X78AAARoUlEQVR4nO2dC3vbthWGYa+ZHK9zI8dZtspJu0bs1slcZ46z+P9/2XBwIQHicgASIGkZ3+NENoUbXx4cXEmSrsgrsnYBtq4CCFEBhKgAQlQAISqAEBVAiAogRAUQogIIUQGEqABCVAAhKoAQFUCICiBEBRCiAgjRBECWKLZUQlMOjEvcH+4/LMcI/i1aPEQFEKICCFEBhKgAcom8HU0DND3KDFnKHB7VdrD/IOwfUXLJV8WYqpRXbwYXtagWq5AgBkR200HONjRXTdWue7k/dPRj9llhIbyFcsVSf+sRKTFSAbIerSmV9vYkPuJT9eRnszGr2blj8ACqGfU/WpgMgNTyNe+ehw+3oUUqvoTWUgsCIs2BDWJ8EwFZU4TqNXxkVBQ+NdgYPf9RA5vRpxXPdjwLH9Sm1D89gcexup6QHtEswIQy2w+3Nwflw/iS7DuAd3UMzCSifgVak247nFE3ipgckJopO/X2vY1Ac306P+7hS8S+wmvOPA2ElENdwipmnofaC7oet2LVnrluaOKaXeeoCwtw6c9AIlIOkewdRT0z46QpHeDU3j3HZ5lWrJVR+ZDBFVkDT0g/XlD3GKC0naQJGviYdusG9HLvriCOKFFqwDtvApDoP+s1TPnSceTl4WT85s5hfARl1jDqrJu9chWTowyrw4n2QbR1Nm3K7EmjiITZwAdY0YoiAx1ra2xGGH5tDBjnR94miyGEEUVN0dsEVSJlmsW71QyoB6AB0rn4AL18NHowsrbptc459F2unY4XLdrtiV9wMlQzo8BeQKbvcVqQG0UaRjXWUIRJ62vU/SQMUX7GMXxHatM7iLZt5IPw2Zp5kGiucEVqms6MmSW1FL8eAdD5kbABD7Hx4cH9gIIa+bBmPp6R4iT/ewKTBfMdVfvQ/vY40PmRptfe/vXARtK8BzQeMnWOK+v1QY7sA4PFSYvLxiO0vWOtnzLJ5S2BIy1I7g90BH1+hGtf72QPSBtnuFP2+qCQZj6LGCBaI3jG5mnbrrS7WOcvRzBJ1ldtDEBaypE+CGvm+xxSN1+sR0nHJo2zwhudMX+C7Eyqd8/UvQkXZB99eS3IdMijZt6wYPXPpJjgWoEVyStkEXH87lAj3b46TnXP/Qem7bEgB45EmGo+PeL1i76lCFOyC6SOMhKMxezNfP6Gngm6395mPmCMM3wPHki4nmmAIkbzQScf2CLPkz/9UV0RTXkPyBY3drBqz9dWEl8h1xmAWN3vYENJAEFtA9PSB5hGA+LsZGmB5phUZFwzcN9odakBMY/U/mCPYvROgpepgk7YCOiL6k5XaWnFf04+EwCx+S3baN5xglFGQvzyRx0lNPoeFlFG36g+yNkbDzii6OX+6tvX03gW0DZNoKe5iNcZqraam1x2angDSPTQvXN2Tkb4jpgTZqy7vxv3Z83ELYtdizhm80JQj8mKcv7yizr3rdYxVwPWB3AdmT5YrQntY8CwTQO5RvtFu4N8SrfZqadDlE9P/bJ+oQDCJuuNKOL8279BYaBgtdmvi/Er7hwjUuBl+PU4jFIUH9/NAWSbMHMnohWVsj3/u7MCMiKHO2XHF1ZGQzA2LGrvfr/n3XCi40H4hPSkAybMxmWWf3NXNL1iBRubjy2bQmroadCrpdIZOoq+hil9T5qVjl41+LzZK0fj000j6Xs0bNJHY3wCfFCAJ1J9kDBrNgF4bfQaZzmeqaqMPLV+ot8kAqoYvm6lXQ4m6r3Ojzv9mBZjHqrQmmcbY4x9NFJlUrViZjlqwTbkDGIVnoQtw9Ev0wEFa1yQvmwN3z6Wtk6xTtZEERMPUjQvIFg2ClmIUqIol03DkoYR2DT1/8E9WF1KGQZOaCTPET68C+nKmCUYlUN8O9P1sHWa6iA7aP4qZ2ZqFjiguiRsxRxjeUeUIH+hq7358MBX05vRRdOXDdQcPOXtQvggPeldF2xBzvOLnNXyeltatzggo2WNMc0YPiHLPiFz0shkR0BBgnT+cmRVzL/nivZ7XGtDOkNvucT9JfNasdDLlqoZA/ORK2ROUZM3vLi1oN4ytd/zi+BxYOGyUDYOpUFEzae9RdxWdZDLd/5w/gJVPzLfa5vKHX6lzfy73wOaVLMVsSPyOxg0l0G70THlL7b7sQ7o/fszpaN/fuJIM08ru+kQPVFsXbEAed2zStGxnxG+7TOG3hvWlfSuSrGMDtIKzRD9b3yGPmawOp45xyIm1JCX2MTvC+sumPiGnnclpo88OXELCjFXka17WGgq3y1SrJnz7L32ziuJz4Y2hPXuf88hQ42ATageR+L6or4+zbxP0ym4oq60EYenfcdXJtIMVpGvzWLBFQ6eLAhNVKp2DCBFhCCH52lA0gOSpVOypB2Zf7BZa09B/AkZv7vzG+UQd4I+QGy7Xcj223im9ffkx3v9MqMX0E1DD4vxTgaIT+bY7xeckyWoRvZCKWlHmFhYuFSAYNwD0sc9iTZxst10XybPe81SKkDWuw7CNnHiAie91m1QWQF579WIESz7575X3CG1o8eqA1zspu/ONOwI/eowCj2On9WC1pRWWmnGtM6zbRn8ppAKulIoIOtskGMT52uSC1BzoD+85QA7QAFNzXLz8gIaqkYBxDSuYsNU3ERAa92rkVAuQPzvu3kWdMlOmmmuD0rWzK8oL6CIVsyqi7cg2Q+a7IMurZmXMtdJSiumqRlNDAb0pIPyipzL2YQix2LmtIsveMi9GltXugkzi7B7NV6DcgNy3qvxWpQXkP1ejUtWLGDrvRr+KEEhlkpkfj5ZmvkCaHaIAmgjiRRA2fNBWjHh26/jmvk3A6i/8zNtngsmkr2KTdzEfUF6Xd3iFVQAISqAEBVAiAogRLGAxCP87GJz4iKENSCssx28QRre6fIlIhYTfEFq3nfzBKGjcNgQ5c8HFAmI3R3g2o4J9xrLENaA0Glo3x89QQDx8JUrt5oc/EH4FLwvCA3RwK4Obz6gSEAwdeba6VNd/SI2a9IQ1oD85t+DL0jXKV85QrR//nTw5iM2a3mCiClApCSgSEAwdebuPLKNUjyEM+DwnSsIvZbeEOcv3+gV9wVhQyRvkPbuJ/Y8DaSwXTQg/5PXAJAI4QoIgxdvkPaGFtwbot5DlfAFgUfAiIcnOoLAXkxx44WnsKCFLejlft9h1w2xMXrwjFgQU3XwWtAzlo9QQh80bBh3Vmu+iRar+X4vxR85u0fdhzeVl88MSXofBDXEfdcmZCJCWAOKTcaeIMLYfYl0vHnyBWHPyv168gWpDtwUvfmAFu0H8Yt/QILg/ZOQfhCSCj2G97dApSeNqABCVAAhKoAQFUCICiBEBRCiAgjRmoD4NnXtrmX0pqmGvPvP6M6zfoNhFq0KiHe8D+NDPsFNBMatedUlA4IhEZsmgUlSNgDg87IwYyOmZ+moQYwMJKDzI7Wjv9Mha8PetXLZgGC6gQ+oYaaM/gbzsrcU015OitKPSo4mOaCKP3avvdnxV3JdNCB6vgJLf4htjuS3cfYQxSwpA/SnPZ9WhX/sObIXDYhbEHjsqyM/VEFtk4DY9kg2h8puy2Y3Mn34/PyGANEKJOyG/wZeW5jOYEH9NltexeDJlm8FkODBXr7DADEy748CEJtdvT1Ve3FHjXDS7OfyAan9IFav2KMBa0K++3SQt5L3rRh/SJBo5tvbf70BQFNkfZ5ZATRofJ9Od8k96VehAghRAYSoAEJUACEqgBAVQIgKIEQFEKICCFEBhKgAQlQAISqAEBVAiAogRAUQogIIUQGEqABCVAAhKoAQFUCICiBEBRCiAgjRlMfjXLKSAHpaQHomiz3c8tUCSnDuYecWcARP5HL5vAZA1A+MANk8Qy5FA+Kv3ta332QG1AEhDVBKAohiAbH35B5G7+/KCYg3JfD5KgDxJ92O3+uXERCnw3/rD6WG4FMkIHZXBLyDQn9ke0Y8Q+I9qdQMvIqtYvxh0o3+Fsp8FkSUxNmLMMnWAdkTycaHcA8tYUFWCw+F5gGS3fFcgJ4UPgLQ0kPFWEDtDdlXxlsRFgHE6tviQ+lYJw2vLLk+jR+4nQONBNTpJrS0JjTzzd54ZHsOQEQAUvs/KyCaYEGgBS1orS60PLeAI6r4DaV1dh809HmI7oWWFgIo7IXq6QEJ+xkB2l4VC3yhek5Aa01z9OfmPRL4QvXkgIYRqk5ooxaEvlA9gwWJ7ifh44t+vJr25EOE+6CAF6pn6SgKQp3ihTYIKDCRHHzE4JSlT1bjs11AQIhVsG67gOyvQLAlkgPQk6xhMgOyypomYkEVvAPB/ZjErKN56aU74YXWec8b2sx344GXLZEsgPrhGM8h9YvkA4U28/T/FZp5QeipN6GQPlAWEwtp5p01rI+SCdBTzyUUUHpE223FGCASYUAcEElc1bYNSKyhKu2ZswhyL0bqaUfESdteO2tJJBOdJ+GCSEgLNmxXWRAQVz2874g9HtuMkgmQbMUC1+KVPT3pEIUAUpr5l4efLY/FyNaK8d50qEnIka1j49M0hQBSXvkIrCqjymUbzUsXFHi2zEkntqIgHzTYjOg53o9ewJYckGQkhmIRp5Ma0ZTNC2aUHICeuBMiWJHM4rNZNtHkz9aWhxrcCU04J8UPzWYUNJp3DjXyLz1PcrYkYYMWYkGqll56ntggpUO02aVnDdOkE0vT4nur2MNv4570ckvPCQAxhx3lrclICCCLllt6ngtoUjUj5p+xrdhSS88JAIkmP6ZBiwSEt2IySm5A072IzYyIBYY4pn8VakF4KXLzmeNm+RYj0nU5AIWWIS+gudP14+YsJaB61Io5SpAXz9xbD9ThmQLDctbxVezjsdl5ln1klGxo2P9zuzK6J9I0ZGAoDNDDif+sAkhMeCSZI8zkg/hTmtEXE+QExEuZYv4ri5OGB1+z1ww48lQtNQchYj+dSbrAVmzowCQxoWyA1psPkpyWuoUueqjBtTogvh14xomH6nUCEhOviwCaNppf24KeFgNkO7eAI6sAIv1/T/Ez9wkVNJrXJ8z4PXValAyAhGvmv9lLuogim3nZr25/0KLkAPTEu9DDNryEZx2heEBsMnGZKVd1lLHOBrx4QPdX376elpty7QuzUEfIVHRP+vxIdupqPYuSA43CJ1FHepI2O9To99mvV7t45gFHPLEzDlanLTsnVyygBVdW9Zn2tRQJaPGV1RW9jzi3gCOKFl5ZXd+AplgQKK8F8U70FipYvA9aZGW1X35Yu351G23mN2A4vbYJaDt8NgloQ3i2CGhL5tNtElCCs0qorQHamP2kAnTJSgIoPsorjlQAIZEKICRSAYREKoCQSAUQEqkAQiJtrae2ORVAiAogRAUQogIIUQGEKBJQe8NWEeGeBeyOBSPSyz3+ALle/K6IQ1xOMlJUTrD/AJ4o7sgpDtDLxyN7vlBlPo8BjQRrSOhtDpqa2JxEpMicaBaenOIAwQLZy8OJPes+NhKsPqK7+FUB2LicRKS4nMSqqCunSRbEdusFX1oRiXFCHxSrCIwgLicRKS6n9u4nqGKunCJ9EK/d7fuoa8sjgRnHAGJhI3PikeJyam8OgNSVUzigipAdpCK3UwV5ByVS+HWt2HPChofuBuckIsXlpIa25BRnQeq1CXafIlKsD6r6m2oiHDWLFOmDPicEJIwBTvn8NbQEIhI8Yy+ibeHmHpeTiBSZU8WqmCunSB/UENlnuAp3DCJSXO9EXNS4nESkyJzuZd/OllPpSSMqgBAVQIgKIEQFEKICCFEBhKgAQlQAISqAEG0CkG9kSb/Tv5a72xfS5gEZX79lQHzYCFN8MLdH//ruL8f29jd69J+3fAYDjn06GI+XzahNAar2ML/R3uz5LDr9uDryKtYKQHCMwqui5jNmaUuA2F3oH48CBvzFn9YzAGLHHg9yZn4JbQkQfIgHGAGTu2cDEAtYHdgEe8Q00RxtCVC4BS1kPaAtAZI+SPE30gexpaNr1QehL9JLpG0AuoEl451sxYYW64/Mgs6P16eakA/MfGQrtlAN2wYgp6JWYvNou4DgPTpLmYlH/wfqonRhUJlyngAAAABJRU5ErkJggg==" alt="Figure 4. Portion of the CTD section designated A03, showing the Gulf Sream region. The square on the cruise track corresponds to zero distance on the section." />
<p class="caption"><strong>Figure 4.</strong> Portion of the CTD section designated A03, showing the Gulf Sream region. The square on the cruise track corresponds to zero distance on the section.</p>
</div>
<p><strong>Exercise 4.</strong> Draw a <span class="math inline">\(T\)</span>-<span class="math inline">\(S\)</span> diagram for the section data, using black symbols to the east of 30W and gray symbols to the west, thus highlighting Mediterranean-derived waters. Use <code>handleFlags()</code> to discard questionable data, and use the accessor function <code>[[</code>.</p>
<p><strong>Exercise 5.</strong> Plot dynamic height and geostrophic velocity across the Gulf Stream. (Hint: use the <code>swDynamicHeight()</code> function.)</p>
</div>
<div id="maps" class="section level1">
<h1><span class="header-section-number">9</span> Maps</h1>
<div id="about-projections" class="section level2">
<h2><span class="header-section-number">9.1</span> About projections</h2>
<p>There are several ways to handle map projections in R and other systems. Oce uses the <code>rgdal</code> package to calculate the details of map projections. A wide group of functions is provided for plotting maps. The first step is to call <code>mapPlot()</code> to construct the map, after which points can be added with <code>mapPoints()</code>, lines with <code>mapLines()</code>, etc. For example, the following plots a world coastline in the Winkel Tripel projection, with the cruise track for the <code>section</code> dataset in red.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(oce)
<span class="kw">data</span>(coastlineWorld)
<span class="kw">par</span>(<span class="dt">mar=</span><span class="kw">rep</span>(<span class="dv">0</span>, <span class="dv">4</span>))
<span class="kw">mapPlot</span>(coastlineWorld, <span class="dt">projection=</span><span class="st">&quot;+proj=robin&quot;</span>, <span class="dt">col=</span><span class="st">&quot;lightgray&quot;</span>)
<span class="kw">data</span>(section)
lon &lt;-<span class="st"> </span>section[[<span class="st">&quot;longitude&quot;</span>, <span class="st">&quot;byStation&quot;</span>]]
lat &lt;-<span class="st"> </span>section[[<span class="st">&quot;latitude&quot;</span>, <span class="st">&quot;byStation&quot;</span>]]
<span class="kw">mapLines</span>(lon, lat, <span class="dt">col=</span><span class="st">'red'</span>, <span class="dt">cex=</span><span class="fl">0.5</span>)</code></pre></div>
<div class="figure">
<img src="data:image/png;base64,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" alt="Figure 5. World in Robinson projection, with the section profile sites indicated." />
<p class="caption"><strong>Figure 5.</strong> World in Robinson projection, with the <code>section</code> profile sites indicated.</p>
</div>
<p>There are far too many projections to illustrate here. See <a href="http://dankelley.github.io/r/2015/04/03/oce-proj.html" class="uri">http://dankelley.github.io/r/2015/04/03/oce-proj.html</a> for a blog item that provides examples of the available projections. Note that some have a problem with spurious horizontal lines. This can result from coastline segments that cross the edge of the plotting area, and getting rid of this is tricky enough to be the heart of the longest-lived bug in the <code>oce</code> issue list, i.e. <a href="https://github.com/dankelley/oce/issues/388" class="uri">https://github.com/dankelley/oce/issues/388</a>. In some instances the function <code>coastlineCut()</code> can help, but it is provisional and subject to change.</p>
</div>
<div id="popular-world-view-projections" class="section level2">
<h2><span class="header-section-number">9.2</span> Popular world-view projections</h2>
<p>A few common projections are worth highlighting. In addition to the Robinson projection shown in Figure 5, it is also common to employ Mollweide (<code>projection=&quot;+proj=moll&quot;</code>), Eckert IV (<code>projection=&quot;+eck4&quot;</code>) or Winkel Tripel (<code>projection=&quot;+proj=wintri&quot;</code>) for world-wide views. An attractive feature of the Winkel Tripel projection is familiarity, since it is used by the National Geographical Society, but its lack of a formal inverse can cause problems for plotting in <code>oce</code> unless the operating system has a recent version of the <code>gdal</code> library that is used for calculating projections.</p>
<p>Before moving on to other projections, it may be helpful to show how to plot gridded data with projection, illustrated in Figure 6 with bathymetry near eastern Canada.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">par</span>(<span class="dt">mar=</span><span class="kw">c</span>(<span class="fl">1.5</span>, <span class="dv">1</span>, <span class="fl">1.5</span>, <span class="dv">1</span>))
<span class="kw">data</span>(topoWorld)
topo &lt;-<span class="st"> </span><span class="kw">decimate</span>(topoWorld, <span class="dv">2</span>) <span class="co"># coarsen grid: 4X faster plot</span>
lon &lt;-<span class="st"> </span>topo[[<span class="st">&quot;longitude&quot;</span>]]
lat &lt;-<span class="st"> </span>topo[[<span class="st">&quot;latitude&quot;</span>]]
z &lt;-<span class="st"> </span>topo[[<span class="st">&quot;z&quot;</span>]]
cm &lt;-<span class="st"> </span><span class="kw">colormap</span>(<span class="dt">name=</span><span class="st">&quot;gmt_globe&quot;</span>)
<span class="kw">drawPalette</span>(<span class="dt">colormap=</span>cm)
<span class="kw">mapPlot</span>(coastlineWorld, <span class="dt">projection=</span><span class="st">&quot;+proj=moll&quot;</span>, <span class="dt">grid=</span><span class="ot">FALSE</span>, <span class="dt">col=</span><span class="st">&quot;lightgray&quot;</span>)
<span class="kw">mapImage</span>(lon, lat, z, <span class="dt">colormap=</span>cm)</code></pre></div>
<div class="figure">
<img src="data:image/png;base64,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" alt="Figure 6. World bathymetry in Molleweide projection." />
<p class="caption"><strong>Figure 6.</strong> World bathymetry in Molleweide projection.</p>
</div>
</div>
<div id="popular-mid-latitude-projections" class="section level2">
<h2><span class="header-section-number">9.3</span> Popular mid-latitude projections</h2>
<p>Mid-latitude regions are sometimes represented with Lambert Conformal Conic projection, e.g. Figure 7 was produced as follows.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">par</span>(<span class="dt">mar=</span><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>))
lonlim &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="op">-</span><span class="dv">80</span>, <span class="dv">0</span>)
latlim &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">20</span>, <span class="dv">60</span>)
<span class="kw">mapPlot</span>(coastlineWorld, <span class="dt">projection=</span><span class="st">&quot;+proj=lcc +lat_1=30 +lat_2=50 +lon_0=-40&quot;</span>,
        <span class="dt">col=</span><span class="st">&quot;lightgray&quot;</span>, <span class="dt">longitudelim=</span>lonlim, <span class="dt">latitudelim=</span>latlim)</code></pre></div>
<div class="figure">
<img src="data:image/png;base64,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" alt="Figure 7. North Atlantic in Lambert Conformal Conic projection." />
<p class="caption"><strong>Figure 7.</strong> North Atlantic in Lambert Conformal Conic projection.</p>
</div>
<p>Other common mid-latitude projections include Mercator and Albers Equal-Area Conic, produced as follows.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mapPlot</span>(coastlineWorld, <span class="dt">projection=</span><span class="st">&quot;+proj=merc&quot;</span>,
        <span class="dt">col=</span><span class="st">&quot;lightgray&quot;</span>, <span class="dt">longitudelim=</span>lonlim, <span class="dt">latitudelim=</span>latlim)
<span class="kw">mapPlot</span>(coastlineWorld, <span class="dt">projection=</span><span class="st">&quot;+proj=aea +lat_1=30 +lat_2=70 +lon_0=-40&quot;</span>,
        <span class="dt">col=</span><span class="st">&quot;lightgray&quot;</span>, <span class="dt">longitudelim=</span>lonlim, <span class="dt">latitudelim=</span>latlim)</code></pre></div>
</div>
<div id="popular-high-latitude-projections" class="section level2">
<h2><span class="header-section-number">9.4</span> Popular high-latitude projections</h2>
<p>High-latitude regions are often represented with stereopolar projections, e.g. Figure 8 was produced with the following.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">par</span>(<span class="dt">mar=</span><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>))
<span class="kw">mapPlot</span>(coastlineWorld, <span class="dt">projection=</span><span class="st">&quot;+proj=stere +lat_0=90&quot;</span>,
        <span class="dt">col=</span><span class="st">&quot;lightgray&quot;</span>, <span class="dt">longitudelim=</span><span class="kw">c</span>(<span class="op">-</span><span class="dv">80</span>,<span class="dv">0</span>), <span class="dt">latitudelim=</span><span class="kw">c</span>(<span class="dv">70</span>, <span class="dv">110</span>))</code></pre></div>
<div class="figure">
<img src="data:image/png;base64,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" alt="Figure 8. Arctic coastlines in stereopolar projection." />
<p class="caption"><strong>Figure 8.</strong> Arctic coastlines in stereopolar projection.</p>
</div>
</div>
</div>
<div id="sea-level-data" class="section level1">
<h1><span class="header-section-number">10</span> Sea-level data</h1>
<div id="time-domain-analysis" class="section level2">
<h2><span class="header-section-number">10.1</span> Time-domain analysis</h2>
<p>The following code graphs a built-in dataset of sea-level time series (Figure 9). The top panel provides an overview of the entire data set. The second panel is narrowed to the most recent month, which should reveal spring-neap cycles if the tide is mixed. The third panel is a log spectrum, with a few tidal constituents indicated. The <code>section</code> variant of the generic <code>plot</code> function provides other possibilities for plotting, including a cumulative spectrum that can be quite informative (use <code>help(&quot;plot,sealevel-method&quot;)</code> to learn more).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(oce)
<span class="kw">data</span>(sealevel)
<span class="kw">plot</span>(sealevel)</code></pre></div>
<div class="figure">
<img src="data:image/png;base64,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" alt="Figure 9. Sea-level timeseries measured in 2003 in Halifax Harbour." />
<p class="caption"><strong>Figure 9.</strong> Sea-level timeseries measured in 2003 in Halifax Harbour.</p>
</div>
<p><strong>Exercise 6.</strong> Illustrate Halifax sea-level variations during Hurricane Juan, near the end of September, 2003.</p>
</div>
<div id="tidal-harmonic-analysis" class="section level2">
<h2><span class="header-section-number">10.2</span> Tidal-harmonic analysis</h2>
<p>A preliminary version of tidal analysis is provided by the <code>tidem</code> function provided in this version of the package, but readers are cautioned that the results are certain to change in a future version. (The problems involve phase and the inference of satellite nodes.)</p>
<p><strong>Exercise 7.</strong> Plot the de-tided Halifax sea level during Autumn 2003, to see whether Hurricane Juan is visible. (Hint: use <code>predict</code> with the results from <code>tidem</code>.)</p>
</div>
</div>
<div id="acoustic-doppler-profiler-data" class="section level1">
<h1><span class="header-section-number">11</span> Acoustic Doppler Profiler data</h1>
<p>The following commands produce Figure 10, showing one velocity component of currents measured in the St Lawrence Estuary Internal Wave Experiment. This plot type is just one of many provided by the <code>adp</code> variant of the generic <code>plot</code> function (see <code>?&quot;plot,adp-method&quot;</code>). See <a href="adp.html">the adp vignette</a> for much more on acoustic Doppler profiler data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(oce)
<span class="kw">data</span>(adp)
<span class="kw">plot</span>(adp, <span class="dt">which=</span><span class="dv">1</span>)
<span class="kw">lines</span>(adp[[<span class="st">'time'</span>]], adp[[<span class="st">'pressure'</span>]], <span class="dt">lwd=</span><span class="dv">2</span>)</code></pre></div>
<div class="figure">
<img src="data:image/png;base64,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" alt="Figure 10. Measurements made with a bottom-mounted ADP in the St Lawrence Estuary. The line near the surface indicates pressure measured by the ADP." />
<p class="caption"><strong>Figure 10.</strong> Measurements made with a bottom-mounted ADP in the St Lawrence Estuary. The line near the surface indicates pressure measured by the ADP.</p>
</div>
</div>
<div id="handling-data-quality-flags" class="section level1">
<h1><span class="header-section-number">12</span> Handling data-quality flags</h1>
<div id="about-flags" class="section level2">
<h2><span class="header-section-number">12.1</span> About flags</h2>
<p>Hydrographic and some other data may be accompanied by data-quality flags. For example, salinity is subject to a variety of instrumental and other errors, and so archives of its value commonly contain quality flags. These flags may derive from statistical checks, from the judgement of a human analyst, or a combination of the two.</p>
<p>Some flags are in the form of numerical values (typically integers) but others may be expressed as character strings. A frustrating aspect of oceanographic analysis is that different data archiving agencies employ different systems for flags. For example, the <a href="https://www.nodc.noaa.gov/woce/woce_v3/wocedata_1/whp/exchange/exchange_format_desc.htm">World Hydrographic Programme</a> designates good bottle/CTD data with a flag value of 2, whereas the <a href="http://data.nodc.noaa.gov/woa/WOD/CODES/TXT/Definition_of_Quality_Flags.txt">World Ocean Database</a> uses 0 for good data. It is also common to indicate bad data by setting values to non-physical values, e.g. -999, -99.99, or similar, and sometimes these coded values may contradict more formal flags, when both are present.</p>
<p>Dealing with flags often requires ad hoc analysis methods, and for this reason, the <code>oce</code> package offers tools for dealing with flags in a variety of ways. The first thing to realize is that only certain data types contain flags, and only certain data objects will contain flags. For example, hydrographic data are quite likely to be provided with data-quality flags, but these are never provided with coastline data.</p>
<p>Data-quality flags are stored in the <code>flags</code> entry in the <code>metadata</code> slot of <code>oce</code> objects. This entry is a list, containing items with names corresponding to names of data elements that are stored in the <code>data</code> slot. Direct manipulation is possible, although it is more convenient to use the <code>[[</code> and <code>[[&lt;-</code> access methods provided in <code>oce</code>, or, for some tasks, the <code>handleFlags</code> function provided by <code>oce</code>.</p>
</div>
<div id="retrieving-and-changing-flags" class="section level2">
<h2><span class="header-section-number">12.2</span> Retrieving and changing flags</h2>
<p>An example should clarify a working procedure. The <code>section</code> dataset provided with <code>oce</code> holds many <code>ctd</code> objects that each have data-quality flags. The first few salinity flags for the 100th station may be found as follows.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(section)
stn &lt;-<span class="st"> </span>section[[<span class="st">&quot;station&quot;</span>, <span class="dv">100</span>]]
<span class="kw">head</span>(stn[[<span class="st">&quot;salinityFlag&quot;</span>]])
<span class="co">#&gt; [1] 2 2 2 2 2 3</span></code></pre></div>
<p>Note that these data use the WHP scheme, i.e. good data are indicated with 2, whereas questionable data are indicated with 3.</p>
<p>Before discussing how such flags might be handled, it is important to note that it is often necessary to alter such flags. For example, some datasets will have flags set to indicate good data, even though the data are set to -999, which is one of several old-fashioned missing-value codes. The <code>section</code> dataset does not contain any such cases, but the situation may be simulated as follows.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># fake second datum</span>
stn[[<span class="st">&quot;salinity&quot;</span>]][<span class="dv">2</span>] &lt;-<span class="st"> </span><span class="op">-</span><span class="dv">999</span></code></pre></div>
<p>With this, the setting of flags might be done with</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stn[[<span class="st">&quot;salinityFlag&quot;</span>]] &lt;-<span class="st"> </span><span class="kw">ifelse</span>(stn[[<span class="st">&quot;salinity&quot;</span>]] <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span>, <span class="dv">3</span>, stn[[<span class="st">&quot;salinityFlag&quot;</span>]])</code></pre></div>
<p>with a check being done with</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(stn[[<span class="st">&quot;salinityFlag&quot;</span>]])
<span class="co">#&gt; [1] 2 3 2 2 2 3</span></code></pre></div>
<p>It should be obvious to the reader that this procedure could be extended in more sophisticated ways, e.g. with schemes searching for pressure inversions, large departures from a TS relationship, loops on TS diagrams, etc. It can be useful to combine automatic schemes with interactive plotting, to identify bad data.</p>
<p><strong>Exercise 8.</strong> Manipulating flags. The dataset provided with oce using</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(oce)
d &lt;-<span class="st"> </span><span class="kw">read.oce</span>(<span class="kw">system.file</span>(<span class="st">&quot;extdata&quot;</span>, <span class="st">&quot;d201211_0011.cnv&quot;</span>, <span class="dt">package=</span><span class="st">&quot;oce&quot;</span>))</code></pre></div>
<p>contains a column named <code>flags</code> that consists of a 3-digit number. The first digit is a flag for temperature, the second for conductivity, and the third for oxygen. Compute the individual flags and add them to the metadata of the <code>ctd</code> object.</p>
</div>
<div id="using-flags-to-manipulate-data" class="section level2">
<h2><span class="header-section-number">12.3</span> Using flags to manipulate data</h2>
<p>A conservative approach is to set data to the missing-value code <code>NA</code> if the data-quality flag indicates a problem. For example, in the WHP scheme, values other than 2 indicate unchecked, bad or suspect data, and those data could be set to the missing-value code as follows, where <code>stn2</code> is the new version:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stn2 &lt;-<span class="st"> </span>stn
stn2[[<span class="st">&quot;salinity&quot;</span>]] &lt;-<span class="st"> </span><span class="kw">ifelse</span>(stn2[[<span class="st">&quot;salinityFlag&quot;</span>]]<span class="op">!=</span><span class="dv">2</span>, <span class="ot">NA</span>, stn2[[<span class="st">&quot;salinity&quot;</span>]])
<span class="kw">head</span>(stn2[[<span class="st">&quot;salinityFlag&quot;</span>]])
<span class="co">#&gt; [1] 2 3 2 2 2 3</span></code></pre></div>
<p>This can be expressed more compactly with <code>handleFlags</code>, e.g.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stn3 &lt;-<span class="st"> </span>stn
stn3[[<span class="st">&quot;salinity&quot;</span>]][<span class="dv">2</span>] &lt;-<span class="st"> </span><span class="op">-</span><span class="dv">999</span>
stn3 &lt;-<span class="st"> </span><span class="kw">handleFlags</span>(stn3, <span class="kw">list</span>(<span class="dt">salinity=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span><span class="op">:</span><span class="dv">9</span>)))</code></pre></div>
<p>A summary of the salinities follows</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(<span class="kw">data.frame</span>(<span class="dt">stnS=</span>stn[[<span class="st">&quot;salinity&quot;</span>]], <span class="dt">stn2S=</span>stn2[[<span class="st">&quot;salinity&quot;</span>]], <span class="dt">stn3S=</span>stn3[[<span class="st">&quot;salinity&quot;</span>]]))
<span class="co">#&gt;        stnS   stn2S   stn3S</span>
<span class="co">#&gt; 1   36.4766 36.4766 36.4766</span>
<span class="co">#&gt; 2 -999.0000      NA 36.7017</span>
<span class="co">#&gt; 3   36.6001 36.6001 36.6001</span>
<span class="co">#&gt; 4   36.5399 36.5399 36.5399</span>
<span class="co">#&gt; 5   36.2388 36.2388 36.2388</span>
<span class="co">#&gt; 6   35.7580      NA 35.7346</span></code></pre></div>
</div>
</div>
<div id="working-in-non-english-languages" class="section level1">
<h1><span class="header-section-number">13</span> Working in non-English languages</h1>
<p>Many of the <code>oce</code> plotting functions produce axis labels that can be displayed in languages other than English. At the time of writing, French, German, Spanish, and Mandarin are supported in at least a rudimentary way. Setting the language can be done at the general system level, or within R, as indicated below (results not shown).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(oce)
<span class="kw">Sys.setenv</span>(<span class="dt">LANGUAGE=</span><span class="st">&quot;fr&quot;</span>)
<span class="kw">data</span>(ctd)
<span class="kw">plot</span>(ctd)</code></pre></div>
<p>Most of the translated items were found by online dictionaries, and so they may be incorrect for oceanographic usage. Readers can help out in the translation effort, if they have knowledge of how nautical words such as <em>Pitch</em> and <em>Roll</em> and technical terms such as <em>Absolute Salinity</em> and <em>Potential Temperature</em> should be written in various languages.</p>
</div>
<div id="extending-oce" class="section level1">
<h1><span class="header-section-number">14</span> Extending oce</h1>
<div id="initializing-oce-objects" class="section level2">
<h2><span class="header-section-number">14.1</span> Initializing oce objects</h2>
<p>Oce handles a wide variety of data types, creating sub-classes the inherit from the base class that is named <code>oce</code>. However, even if a dataset does not fit within these sub-classes, it is still possible to use some of the features of <code>oce</code>, such as (FILL IN … accessors, plotting, summaries ??).</p>
<p>For example, suppose that there is a dataset that contains two variables, <code>mm</code> and <code>ss</code>, that have been measured at times <code>t</code>. Suppose that the data are recorded at a fixed location. To illustrate how to deal with such data, we first create some fake data:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lon &lt;-<span class="st"> </span><span class="op">-</span><span class="dv">60</span>
lat &lt;-<span class="st"> </span><span class="op">-</span><span class="dv">30</span>
t &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="kw">as.POSIXct</span>(<span class="st">&quot;2017-08-30&quot;</span>), <span class="kw">as.POSIXct</span>(<span class="st">&quot;2017-09-01&quot;</span>), <span class="dt">by=</span><span class="st">&quot;15 min&quot;</span>)
tsec &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(t)
u &lt;-<span class="st"> </span><span class="kw">sin</span>(tsec <span class="op">*</span><span class="st"> </span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span>pi <span class="op">/</span><span class="st"> </span>(<span class="dv">3600</span> <span class="op">*</span><span class="st"> </span><span class="fl">12.4206</span>))
v &lt;-<span class="st"> </span><span class="fl">0.5</span> <span class="op">*</span><span class="st"> </span><span class="kw">cos</span>(tsec <span class="op">*</span><span class="st"> </span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span>pi <span class="op">/</span><span class="st"> </span>(<span class="dv">3600</span> <span class="op">*</span><span class="st"> </span><span class="fl">12.4206</span>))</code></pre></div>
<p>These may be inserted into an <code>oce</code> object as follows. First, create the object.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">o &lt;-<span class="st"> </span><span class="kw">new</span>(<span class="st">&quot;oce&quot;</span>)</code></pre></div>
<p>This contains slots without data:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(o)
<span class="co">#&gt; Formal class 'oce' [package &quot;oce&quot;] with 3 slots</span>
<span class="co">#&gt;   ..@ metadata     :List of 2</span>
<span class="co">#&gt;   .. ..$ units: list()</span>
<span class="co">#&gt;   .. ..$ flags: list()</span>
<span class="co">#&gt;   ..@ data         : list()</span>
<span class="co">#&gt;   ..@ processingLog:List of 2</span>
<span class="co">#&gt;   .. ..$ time : POSIXct[1:1], format: &quot;2018-04-26 11:14:49&quot;</span>
<span class="co">#&gt;   .. ..$ value: chr &quot;Create oce object.&quot;</span></code></pre></div>
<p>As noted previously, it’s possible to insert <code>t</code>, <code>u</code>, and <code>v</code> directly into the <code>data</code> slot, but it’s better to use <code>oceSetData</code> to do that, because it can set up units, and it leaves a trail in the processing log.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">o &lt;-<span class="st"> </span><span class="kw">oceSetData</span>(o, <span class="st">&quot;t&quot;</span>, t, <span class="kw">list</span>(<span class="dt">unit=</span><span class="kw">expression</span>(s), <span class="dt">scale=</span><span class="st">&quot;&quot;</span>))
o &lt;-<span class="st"> </span><span class="kw">oceSetData</span>(o, <span class="st">&quot;u&quot;</span>, u, <span class="kw">list</span>(<span class="dt">unit=</span><span class="kw">expression</span>(m<span class="op">/</span>s), <span class="dt">scale=</span><span class="st">&quot;&quot;</span>))
o &lt;-<span class="st"> </span><span class="kw">oceSetData</span>(o, <span class="st">&quot;v&quot;</span>, v, <span class="kw">list</span>(<span class="dt">unit=</span><span class="kw">expression</span>(m<span class="op">/</span>s), <span class="dt">scale=</span><span class="st">&quot;&quot;</span>))</code></pre></div>
<p>Astute readers will realize that these data are akin to tidal velocities, and so might agree with the author that <code>lon</code> and <code>lat</code> belong in the <code>metadata</code> slot, not the <code>data</code> slot.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">o &lt;-<span class="st"> </span><span class="kw">oceSetMetadata</span>(o, <span class="st">&quot;longitude&quot;</span>, lon)
o &lt;-<span class="st"> </span><span class="kw">oceSetMetadata</span>(o, <span class="st">&quot;latitude&quot;</span>, lat)</code></pre></div>
<p>At this stage, <code>o</code> is a full-fledged <code>oce</code> object. It may be summarized with</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(o)
<span class="co">#&gt; * Data</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;             Min.       Mean       Max.       Dim. OriginalName</span>
<span class="co">#&gt;     t [s]   2017-08-30 2017-08-31 2017-09-01 193  -           </span>
<span class="co">#&gt;     u [m/s] -0.99982   -0.028654  1          193  -           </span>
<span class="co">#&gt;     v [m/s] -0.49996   0.0024249  0.49998    193  -           </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; * Processing Log</span>
<span class="co">#&gt;     - 2018-04-26 11:14:49 UTC: `Create oce object.`</span>
<span class="co">#&gt;     - 2018-04-26 14:15:04 UTC: `oceSetData(object = o, name = &quot;t&quot;, value = t, unit = list(unit = expression(s),     scale = &quot;&quot;))`</span>
<span class="co">#&gt;     - 2018-04-26 14:15:04 UTC: `oceSetData(object = o, name = &quot;u&quot;, value = u, unit = list(unit = expression(m/s),     scale = &quot;&quot;))`</span>
<span class="co">#&gt;     - 2018-04-26 14:15:04 UTC: `oceSetData(object = o, name = &quot;v&quot;, value = v, unit = list(unit = expression(m/s),     scale = &quot;&quot;))`</span>
<span class="co">#&gt;     - 2018-04-26 14:15:04 UTC: `oceSetMetadata(object = o, name = &quot;longitude&quot;, value = lon)`</span>
<span class="co">#&gt;     - 2018-04-26 14:15:04 UTC: `oceSetMetadata(object = o, name = &quot;latitude&quot;, value = lat)`</span></code></pre></div>
<p>and individual data components may be extracted with the <code>[[</code> notation</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">o[[<span class="st">&quot;latitude&quot;</span>]]                        <span class="co"># from metadata</span>
<span class="co">#&gt; [1] -30</span>
<span class="kw">head</span>(o[[<span class="st">&quot;t&quot;</span>]])                         <span class="co"># from data</span>
<span class="co">#&gt; [1] &quot;2017-08-30 00:00:00 AST&quot; &quot;2017-08-30 00:15:00 AST&quot;</span>
<span class="co">#&gt; [3] &quot;2017-08-30 00:30:00 AST&quot; &quot;2017-08-30 00:45:00 AST&quot;</span>
<span class="co">#&gt; [5] &quot;2017-08-30 01:00:00 AST&quot; &quot;2017-08-30 01:15:00 AST&quot;</span>
<span class="kw">head</span>(o[[<span class="st">&quot;u&quot;</span>]])
<span class="co">#&gt; [1] 0.8291526 0.7520211 0.6628780 0.5631469 0.4544209 0.3384366</span>
<span class="kw">head</span>(o[[<span class="st">&quot;v&quot;</span>]])
<span class="co">#&gt; [1] -0.2795112 -0.3295695 -0.3743637 -0.4131784 -0.4453935 -0.4704946</span></code></pre></div>
<p>A crude plot can be done with</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(o)</code></pre></div>
<div class="figure">
<img src="data:image/png;base64,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" alt="Figure 11. Crude plot of constructed oce object." />
<p class="caption"><strong>Figure 11.</strong> Crude plot of constructed <code>oce</code> object.</p>
</div>
<p>Note that the plot uses the <code>pairs</code> function to show how all elements of the <code>data</code> slot vary with each other. To customize the plot, a new object class should be created, as in the next section.</p>
</div>
<div id="creating-new-oce-object-classes" class="section level2">
<h2><span class="header-section-number">14.2</span> Creating new oce object classes</h2>
<p>Let’s call this new object class <code>uv</code>. With this, inventing a new object sub-class is as simple as invoking</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setClass</span>(<span class="st">&quot;uv&quot;</span>, <span class="dt">contains=</span><span class="st">&quot;oce&quot;</span>)</code></pre></div>
<p>For most objects, it makes sense to define three specialized methods: one to create new objects (called <code>&quot;initialize&quot;</code>), one to plot them (<code>&quot;plot&quot;</code>), and one to summarize them (<code>&quot;summary&quot;</code>).</p>
<p>The initialization can be handled with</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setMethod</span>(<span class="dt">f=</span><span class="st">&quot;initialize&quot;</span>,
          <span class="dt">signature=</span><span class="st">&quot;uv&quot;</span>,
          <span class="dt">definition=</span><span class="cf">function</span>(.Object, time, u, v, longitude, latitude) {
              <span class="cf">if</span> (<span class="kw">missing</span>(time)) <span class="kw">stop</span>(<span class="st">&quot;must provide 'time'&quot;</span>)
              ## repeat the above also for u, v, longitude, and latitude
              .Object<span class="op">@</span>metadata<span class="op">$</span>units<span class="op">$</span>u &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">unit=</span><span class="kw">expression</span>(m<span class="op">/</span>s), <span class="dt">scale=</span><span class="st">&quot;&quot;</span>)
              .Object<span class="op">@</span>metadata<span class="op">$</span>units<span class="op">$</span>v &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">unit=</span><span class="kw">expression</span>(m<span class="op">/</span>s), <span class="dt">scale=</span><span class="st">&quot;&quot;</span>)
              .Object<span class="op">@</span>metadata<span class="op">$</span>longitude &lt;-<span class="st"> </span>longitude
              .Object<span class="op">@</span>metadata<span class="op">$</span>latitude &lt;-<span class="st"> </span>latitude
              .Object<span class="op">@</span>data<span class="op">$</span>time &lt;-<span class="st"> </span>time
              .Object<span class="op">@</span>data<span class="op">$</span>u &lt;-<span class="st"> </span>u
              .Object<span class="op">@</span>data<span class="op">$</span>v &lt;-<span class="st"> </span>v
              .Object<span class="op">@</span>processingLog<span class="op">$</span>time &lt;-<span class="st"> </span><span class="kw">as.POSIXct</span>(<span class="kw">Sys.time</span>())
              .Object<span class="op">@</span>processingLog<span class="op">$</span>value &lt;-<span class="st"> &quot;create 'uv' object&quot;</span>
              <span class="kw">return</span>(.Object)
          })
<span class="co">#&gt; [1] &quot;initialize&quot;</span></code></pre></div>
<p>This is fairly arcane, but simply copying and pasting this will be enough to get the reader started. Let’s try it:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">oo &lt;-<span class="st"> </span><span class="kw">new</span>(<span class="st">&quot;uv&quot;</span>, t, u, v, lon, lat)</code></pre></div>
<p>Next, customize <code>summary</code> for this new class:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setMethod</span>(<span class="dt">f=</span><span class="st">&quot;summary&quot;</span>,
          <span class="dt">signature=</span><span class="st">&quot;uv&quot;</span>,
          <span class="dt">definition=</span><span class="cf">function</span>(object, ...) {
              <span class="kw">cat</span>(<span class="st">&quot;uv Summary</span><span class="ch">\n</span><span class="st">-----------</span><span class="ch">\n\n</span><span class="st">&quot;</span>, ...)
              <span class="kw">cat</span>(<span class="kw">paste</span>(<span class="st">&quot;* Location:           &quot;</span>,
                        <span class="kw">sprintf</span>(<span class="st">&quot;%.5f N&quot;</span>, object<span class="op">@</span>metadata<span class="op">$</span>latitude), <span class="st">&quot;, &quot;</span>,
                        <span class="kw">sprintf</span>(<span class="st">&quot;%.5f E&quot;</span>, object<span class="op">@</span>metadata<span class="op">$</span>longitude), <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="dt">sep=</span><span class="st">''</span>))
              <span class="kw">callNextMethod</span>()
          })
<span class="co">#&gt; [1] &quot;summary&quot;</span></code></pre></div>
<p>The <code>callNextMethod</code> will summarize the entries in the <code>data</code> slot adequately for this case. Let’s try it:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(oo)
<span class="co">#&gt; uv Summary</span>
<span class="co">#&gt; -----------</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; * Location:           -30.00000 N, -60.00000 E</span>
<span class="co">#&gt; * Time ranges from 2017-08-30 to 2017-09-01 with 193 samples and mean increment 15 min</span>
<span class="co">#&gt; * Data</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;             Min.     Mean      Max.    Dim. OriginalName</span>
<span class="co">#&gt;     u [m/s] -0.99982 -0.028654 1       193  -           </span>
<span class="co">#&gt;     v [m/s] -0.49996 0.0024249 0.49998 193  -           </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; * Processing Log</span>
<span class="co">#&gt;     - 2018-04-26 14:15:04 UTC: `create 'uv' object`</span>
<span class="co">#&gt; NULL</span></code></pre></div>
<p>Finally, let’s make a custom method for <code>plot</code>. This is usually the most complicated part of handling any new object class, because there are usually many ways to look at data. (Some <code>oce</code> objects have over a dozen specialized plot styles.) Let’s suppose there are only two desired plot styles: one showing timeseries of <code>u</code> and <code>v</code> in a two panel plot, and the other showing how <code>u</code> and <code>v</code> covary.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setMethod</span>(<span class="dt">f=</span><span class="st">&quot;plot&quot;</span>,
          <span class="dt">signature=</span><span class="kw">signature</span>(<span class="st">&quot;uv&quot;</span>),
          <span class="dt">definition=</span><span class="cf">function</span>(x, <span class="dt">which=</span><span class="dv">1</span>, ...)
          {
              <span class="cf">if</span> (which <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) {
                  <span class="kw">oce.plot.ts</span>(x[[<span class="st">&quot;time&quot;</span>]], x[[<span class="st">&quot;u&quot;</span>]], <span class="dt">ylab=</span><span class="st">&quot;u [m/s]&quot;</span>, ...)
              } <span class="cf">else</span> <span class="cf">if</span> (which <span class="op">==</span><span class="st"> </span><span class="dv">2</span>) {
                  <span class="kw">oce.plot.ts</span>(x[[<span class="st">&quot;time&quot;</span>]], x[[<span class="st">&quot;v&quot;</span>]], <span class="dt">ylab=</span><span class="st">&quot;v [m/s]&quot;</span>, ...)
              } <span class="cf">else</span> <span class="cf">if</span> (which <span class="op">==</span><span class="st"> </span><span class="dv">3</span>) {
                  <span class="kw">plot</span>(x[[<span class="st">&quot;u&quot;</span>]], x[[<span class="st">&quot;v&quot;</span>]], <span class="dt">xlab=</span><span class="st">&quot;u [m/s]&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;v [m/s]&quot;</span>, ...)
              }
          })
<span class="co">#&gt; [1] &quot;plot&quot;</span></code></pre></div>
<p>An now, we can try it out</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">1</span>))
<span class="kw">plot</span>(oo, <span class="dt">which=</span><span class="dv">1</span>)
<span class="kw">plot</span>(oo, <span class="dt">which=</span><span class="dv">2</span>)</code></pre></div>
<div class="figure">
<img src="data:image/png;base64,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" alt="Figure 12. Time-series u(t) plot of newly-constructed uv object." />
<p class="caption"><strong>Figure 12.</strong> Time-series u(t) plot of newly-constructed <code>uv</code> object.</p>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(oo, <span class="dt">which=</span><span class="dv">3</span>, <span class="dt">asp=</span><span class="dv">1</span>)</code></pre></div>
<div class="figure">
<img src="data:image/png;base64,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" alt="Figure 13. Hodograph plot of newly-constructed uv object." />
<p class="caption"><strong>Figure 13.</strong> Hodograph plot of newly-constructed <code>uv</code> object.</p>
</div>
</div>
</div>
<div id="the-future-of-oce" class="section level1">
<h1><span class="header-section-number">15</span> The future of oce</h1>
<p>The present version of <code>oce</code> can only handle data types that the authors have been using in their research. New data types will be added as the need arises in that work, but the authors would also be happy to add other data types that are likely to prove useful to the Oceanographic community. (The data types need not be restricted to Physical Oceanography, but the authors will need some help in dealing with other types of data, given their research focus.)</p>
<p>Two principles will guide the addition of data types and functions: (a) the need, as perceived by the authors or by other contributors and (b) the ease with which the additions can be made. One might call this development-by-triage, by analogy to the scheme used in Emergency Rooms to organize medical effort efficiently.</p>
</div>
<div id="development-website" class="section level1">
<h1><span class="header-section-number">16</span> Development website</h1>
<p>The site <a href="http://github.com/dankelley/oce" class="uri">http://github.com/dankelley/oce</a> provides a window on the development that goes on between the CRAN releases of the package. Readers are requested to visit the site to report bugs, to suggest new features, or just to see how <code>oce</code> development is coming along. Note that the <code>development</code> branch is used by the authors in their work, and is updated so frequently that it must be considered unstable, at least in those spots being changed on a given day. Official CRAN releases derive from the <code>master</code> branch, and are done when the code is considered to be of reasonable stability and quality. This is all in a common pattern for open-source software.</p>
</div>
<div id="answers-to-exercises" class="section level1">
<h1><span class="header-section-number">17</span> Answers to exercises</h1>
<p><strong>Exercise 1.</strong> Seawater properties. In the UNESCO system we may write</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(oce)
<span class="kw">swRho</span>(<span class="dv">34</span>, <span class="dv">10</span>, <span class="dv">100</span>, <span class="dt">eos=</span><span class="st">&quot;unesco&quot;</span>)
<span class="co">#&gt; [1] 1026.624</span>
<span class="kw">swTheta</span>(<span class="dv">34</span>, <span class="dv">10</span>, <span class="dv">100</span>, <span class="dt">eos=</span><span class="st">&quot;unesco&quot;</span>)
<span class="co">#&gt; [1] 9.988599</span>
<span class="kw">swRho</span>(<span class="dv">34</span>, <span class="kw">swTheta</span>(<span class="dv">34</span>, <span class="dv">10</span>, <span class="dv">100</span>, <span class="dt">eos=</span><span class="st">&quot;unesco&quot;</span>), <span class="dv">0</span>, <span class="dt">eos=</span><span class="st">&quot;unesco&quot;</span>)
<span class="co">#&gt; [1] 1026.173</span>
<span class="kw">swRho</span>(<span class="dv">34</span>, <span class="kw">swTheta</span>(<span class="dv">34</span>, <span class="dv">10</span>, <span class="dv">100</span>, <span class="dv">200</span>, <span class="dt">eos=</span><span class="st">&quot;unesco&quot;</span>), <span class="dv">200</span>, <span class="dt">eos=</span><span class="st">&quot;unesco&quot;</span>)
<span class="co">#&gt; [1] 1027.074</span>
<span class="kw">plotTS</span>(<span class="kw">as.ctd</span>(<span class="kw">c</span>(<span class="dv">30</span>,<span class="dv">40</span>),<span class="kw">c</span>(<span class="op">-</span><span class="dv">2</span>,<span class="dv">20</span>),<span class="kw">rep</span>(<span class="dv">0</span>,<span class="dv">2</span>)), <span class="dt">eos=</span><span class="st">&quot;unesco&quot;</span>, <span class="dt">grid=</span><span class="ot">TRUE</span>, <span class="dt">col=</span><span class="st">&quot;white&quot;</span>)</code></pre></div>
<p>and in the Gibbs SeaWater system, we use <code>eos=&quot;gws&quot;</code> and must supply <code>longitude</code> and <code>latitude</code> arguments to the <code>sw*()</code> calls and also to the <code>as.ctd()</code> call.</p>
<p><strong>Exercise 2.</strong> Plot a profile of <span class="math inline">\(\sigma_\theta\)</span> and <span class="math inline">\(N^2\)</span>, for the data in the pycnocline. (Hint: use <code>subset()</code>.)</p>
<p>Although one may argue as to the limits of the pycnocline, for illustration let us say it is in 5 dbar to 12 dbar range. One way to do this is</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(oce)
<span class="kw">data</span>(ctd)
pycnocline &lt;-<span class="st"> </span><span class="kw">ctdTrim</span>(ctd, <span class="st">&quot;range&quot;</span>,
                      <span class="dt">parameters=</span><span class="kw">list</span>(<span class="dt">item=</span><span class="st">&quot;pressure&quot;</span>, <span class="dt">from=</span><span class="dv">5</span>, <span class="dt">to=</span><span class="dv">12</span>))
<span class="kw">plotProfile</span>(pycnocline, <span class="dt">which=</span><span class="st">&quot;density+N2&quot;</span>)</code></pre></div>
<p>Another is</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(oce)
<span class="kw">data</span>(ctd)
pycnocline &lt;-<span class="st"> </span><span class="kw">subset</span>(ctd, <span class="dv">5</span> <span class="op">&lt;=</span><span class="st"> </span>pressure <span class="op">&amp;</span><span class="st"> </span>pressure <span class="op">&lt;=</span><span class="st"> </span><span class="dv">12</span>)
<span class="kw">plotProfile</span>(pycnocline, <span class="dt">which=</span><span class="st">&quot;density+N2&quot;</span>)</code></pre></div>
<p><strong>Exercise 3.</strong> Make a multi-file plot summarizing the TS relationship, with each file showing the overall relationship in gray and the individual profile in black. (This is an advanced exercise requiring some R skills.)</p>
<p>The code provided below creates 91 PNG files, with names <code>ar18_01.png</code>, <code>ar18_02.png</code>, etc. Loading these in a view that permits quick paging through this file list is an easy way to spot suspicious data, since each plot has the station number at the top. (Users trying this example should bear in mind that this is a fairly large dataset, so the processing will take up to a minute.)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(oce)
<span class="co"># http://cchdo.ucsd.edu/data/7971/ar18_58JH19941029_ct1.zip</span>
<span class="co"># setwd(&quot;~/Downloads/ar18_58JH19941029_ct1&quot;)</span>
files &lt;-<span class="st"> </span><span class="kw">system</span>(<span class="st">&quot;ls *.csv&quot;</span>, <span class="dt">intern=</span><span class="ot">TRUE</span>)
n &lt;-<span class="st"> </span><span class="kw">length</span>(files)
ctds &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;list&quot;</span>, n) <span class="co"># to hold the CTD objects</span>
station &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;list&quot;</span>, n)
<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>n) {
    ctds[[i]] &lt;-<span class="st"> </span><span class="kw">read.ctd</span>(files[i])
    station[[i]] &lt;-<span class="st"> </span>ctds[[i]][[<span class="st">&quot;station&quot;</span>]]
}
S &lt;-<span class="st"> </span><span class="kw">unlist</span>(<span class="kw">lapply</span>(<span class="dv">1</span><span class="op">:</span>n, <span class="cf">function</span>(i) ctds[[i]][[<span class="st">&quot;salinity&quot;</span>]]))
T &lt;-<span class="st"> </span><span class="kw">unlist</span>(<span class="kw">lapply</span>(<span class="dv">1</span><span class="op">:</span>n, <span class="cf">function</span>(i) ctds[[i]][[<span class="st">&quot;temperature&quot;</span>]]))
p &lt;-<span class="st"> </span><span class="kw">unlist</span>(<span class="kw">lapply</span>(<span class="dv">1</span><span class="op">:</span>n, <span class="cf">function</span>(i) ctds[[i]][[<span class="st">&quot;pressure&quot;</span>]]))
overall &lt;-<span class="st"> </span><span class="kw">as.ctd</span>(S, T, p)
<span class="kw">png</span>(<span class="st">&quot;ar18_%02d.png&quot;</span>)
<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>n) {
    <span class="kw">plotTS</span>(overall, <span class="dt">col=</span><span class="st">'gray'</span>)
    <span class="kw">lines</span>(ctds[[i]][[<span class="st">&quot;salinity&quot;</span>]], ctds[[i]][[<span class="st">&quot;potential temperature&quot;</span>]])
    <span class="kw">mtext</span>(station[i], <span class="dt">side=</span><span class="dv">3</span>, <span class="dt">line=</span><span class="dv">0</span>)
}
<span class="kw">dev.off</span>()</code></pre></div>
<p><strong>Exercise 4.</strong> Draw a <span class="math inline">\(T\)</span>-<span class="math inline">\(S\)</span> diagram for the section data, using black symbols to the east of 30W and gray symbols to the west, thus highlighting Mediterranean-derived waters. Use <code>handleFlags()</code> to discard questionable data, and use the accessor function <code>[[</code>.</p>
<p>We will use the Gibbs SeaWater system, so <code>as.ctd()</code> needs location information.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(oce)
<span class="kw">data</span>(section)
s &lt;-<span class="st"> </span><span class="kw">handleFlags</span>(section)
ctd &lt;-<span class="st"> </span><span class="kw">as.ctd</span>(s[[<span class="st">&quot;salinity&quot;</span>]], s[[<span class="st">&quot;temperature&quot;</span>]], s[[<span class="st">&quot;pressure&quot;</span>]],
              <span class="dt">longitude=</span>s[[<span class="st">&quot;longitude&quot;</span>]], <span class="dt">latitude=</span>s[[<span class="st">&quot;latitude&quot;</span>]])
col &lt;-<span class="st"> </span><span class="kw">ifelse</span>(s[[<span class="st">&quot;longitude&quot;</span>]] <span class="op">&gt;</span><span class="st"> </span><span class="op">-</span><span class="dv">30</span>, <span class="st">&quot;black&quot;</span>, <span class="st">&quot;gray&quot;</span>)
<span class="kw">plotTS</span>(ctd, <span class="dt">col=</span>col, <span class="dt">eos=</span><span class="st">&quot;gsw&quot;</span>)</code></pre></div>
<p><strong>Exercise 5.</strong> Plot dynamic height and geostrophic velocity across the Gulf Stream. (Hint: use the <code>swDynamicHeight</code> function.)</p>
<p>(Try <code>?swDynamicHeight</code> for hints on smoothing.)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(oce)
<span class="kw">data</span>(section)
GS &lt;-<span class="st"> </span><span class="kw">subset</span>(section, <span class="dv">102</span> <span class="op">&lt;=</span><span class="st"> </span>stationId <span class="op">&amp;</span><span class="st"> </span>stationId <span class="op">&lt;=</span><span class="st"> </span><span class="dv">124</span>)
dh &lt;-<span class="st"> </span><span class="kw">swDynamicHeight</span>(GS)
<span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">1</span>), <span class="dt">mar=</span><span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">1</span>), <span class="dt">mgp=</span><span class="kw">c</span>(<span class="dv">2</span>, <span class="fl">0.7</span>, <span class="dv">0</span>))
<span class="kw">plot</span>(dh<span class="op">$</span>distance, dh<span class="op">$</span>height, <span class="dt">type=</span><span class="st">&quot;l&quot;</span>, <span class="dt">xlab=</span><span class="st">&quot;&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Dyn. Height [m]&quot;</span>)
<span class="kw">grid</span>()
<span class="co"># 1e3 metres per kilometre</span>
latMean &lt;-<span class="st"> </span><span class="kw">mean</span>(GS[[<span class="st">&quot;latitude&quot;</span>]])
f &lt;-<span class="st"> </span><span class="kw">coriolis</span>(latMean)
g &lt;-<span class="st"> </span><span class="kw">gravity</span>(latMean)
v &lt;-<span class="st"> </span><span class="kw">diff</span>(dh<span class="op">$</span>height)<span class="op">/</span><span class="kw">diff</span>(dh<span class="op">$</span>distance) <span class="op">*</span><span class="st"> </span>g <span class="op">/</span><span class="st"> </span>f <span class="op">/</span><span class="st"> </span><span class="fl">1e3</span>
<span class="kw">plot</span>(dh<span class="op">$</span>distance[<span class="op">-</span><span class="dv">1</span>], v, <span class="dt">type=</span><span class="st">&quot;l&quot;</span>, <span class="dt">xlab=</span><span class="st">&quot;Distance [km]&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Velocity [m/s]&quot;</span>)
<span class="kw">grid</span>()
<span class="kw">abline</span>(<span class="dt">h=</span><span class="dv">0</span>, <span class="dt">col=</span><span class="st">'red'</span>)</code></pre></div>
<p><strong>Exercise 6.</strong> Halifax sea-level during Hurricane Juan, near the end of September, 2003.</p>
<p>A web search will tell you that Hurricane Juan hit about midnight, 2003-sep-28. The first author can verify that the strongest winds occurred a bit after midnight – that was the time he moved to a room without windows, in fear of flying glass.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(oce)
<span class="kw">data</span>(sealevel)
<span class="co"># Focus on 2003-Sep-28 to 29th, the time when Hurricane Juan caused flooding</span>
<span class="kw">plot</span>(sealevel,<span class="dt">which=</span><span class="dv">1</span>,<span class="dt">xlim=</span><span class="kw">as.POSIXct</span>(<span class="kw">c</span>(<span class="st">&quot;2003-09-24&quot;</span>,<span class="st">&quot;2003-10-05&quot;</span>), <span class="dt">tz=</span><span class="st">&quot;UTC&quot;</span>))
<span class="kw">abline</span>(<span class="dt">v=</span><span class="kw">as.POSIXct</span>(<span class="st">&quot;2003-09-29 04:00:00&quot;</span>, <span class="dt">tz=</span><span class="st">&quot;UTC&quot;</span>), <span class="dt">col=</span><span class="st">&quot;red&quot;</span>)
<span class="kw">mtext</span>(<span class="st">&quot;Juan&quot;</span>, <span class="dt">at=</span><span class="kw">as.POSIXct</span>(<span class="st">&quot;2003-09-29 04:00:00&quot;</span>, <span class="dt">tz=</span><span class="st">&quot;UTC&quot;</span>), <span class="dt">col=</span><span class="st">&quot;red&quot;</span>)</code></pre></div>
<p><strong>Exercise 7.</strong> Plot the de-tided Halifax sea level during Autumn 2003, to see whether Hurricane Juan is visible. (Hint: use <code>predict</code> with the results from <code>tidem</code>.)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(oce)
<span class="kw">data</span>(sealevel)
m &lt;-<span class="st"> </span><span class="kw">tidem</span>(sealevel)
<span class="kw">oce.plot.ts</span>(sealevel[[<span class="st">'time'</span>]], sealevel[[<span class="st">'elevation'</span>]] <span class="op">-</span><span class="st"> </span><span class="kw">predict</span>(m),
            <span class="dt">ylab=</span><span class="st">&quot;Detided sealevel [m]&quot;</span>, 
            <span class="dt">xlim=</span><span class="kw">c</span>(<span class="kw">as.POSIXct</span>(<span class="st">&quot;2003-09-20&quot;</span>), <span class="kw">as.POSIXct</span>(<span class="st">&quot;2003-10-08&quot;</span>)))</code></pre></div>
<p>The spike reveals a surge of about 1.5m, on the 29th of September, 2003.</p>
<p><strong>Exercise 8.</strong> Manipulating flags.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(oce)
d &lt;-<span class="st"> </span><span class="kw">read.oce</span>(<span class="kw">system.file</span>(<span class="st">&quot;extdata&quot;</span>, <span class="st">&quot;d201211_0011.cnv&quot;</span>, <span class="dt">package=</span><span class="st">&quot;oce&quot;</span>))

## The following is in the .cnv file:
<span class="co"># Processing Notes:  Flag word has 3 columns: Temperature, Conductivity, and Oxygen</span>
<span class="co"># Processing Notes:  Flag_code:  0 = no QC; 2 = good; 6 = interpolated, or replaced by dual sensor or upcast value;</span>

flag &lt;-<span class="st"> </span>d[[<span class="st">'flag'</span>]]
flag1 &lt;-<span class="st"> </span><span class="kw">floor</span>(flag<span class="op">/</span><span class="dv">100</span>)
flag2 &lt;-<span class="st"> </span><span class="kw">floor</span>((flag<span class="op">-</span><span class="dv">100</span><span class="op">*</span>flag1)<span class="op">/</span><span class="dv">10</span>)
flag3 &lt;-<span class="st"> </span><span class="kw">floor</span>((flag<span class="op">-</span><span class="dv">100</span><span class="op">*</span>flag1<span class="op">-</span><span class="dv">10</span><span class="op">*</span>flag2))
d[[<span class="st">&quot;flags&quot;</span>]]<span class="op">$</span>temperature &lt;-<span class="st"> </span>flag1
d[[<span class="st">&quot;flags&quot;</span>]]<span class="op">$</span>conductivity &lt;-<span class="st"> </span>flag2
d[[<span class="st">&quot;flags&quot;</span>]]<span class="op">$</span>oxygen &lt;-<span class="st"> </span>flag3</code></pre></div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
